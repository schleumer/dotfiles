var LP_GETNAME_FAVOR_ID_OVER_NAME=!0,LP_GETNAME_FAVOR_NAME_OVER_ID=!1,g_popupfill_rows=0,g_popupfill_rows_FF=0,g_weasel_id=null,g_weaseled=!1,g_autofillsites={},g_popupfill_widest=260,g_popupfill_max=1,g_popupfill_ctr=0,g_popupfill_parent=null,g_popupfill_parent_last=null,g_isadmin=!1,CLICKABLE_ICON_ZINDEX=2147483648,popup_show_sitename_suffix=!0,popup_show_menu_expand_visual_cue=!0,g_last_field_focused=null,g_minwidth_override=0,g_minheight_override=0,g_popupfill_iframe_width_save=0,g_popupfill_iframe_height_save=
0,g_do_pwgen=!1,g_hide_navbar=!0,LPICON_HEIGHT=16,LPICON_WIDTH=16,g_double_password_hack=!1,g_double_secret_password_hack=!1,g_popup_divs={},g_input_cnt=-1,g_keyboardNav=!1,g_more_close_on_cancel=!1,g_more_enable_return=!0,create_onerow_iframe=!0,do_autofill_if_matched=!1,do_popup_actions=!0,popup_actions_cfg={sites:{str:"Sites",id:"popupaction_sites"},generate:{str:"Generate",id:"popupaction_generate"},savesite:{str:"Save Site",id:"popupaction_savesite"},formfill:{str:"Form Fill Profile",id:"popupaction_formfillprofile"},
never:{str:"Disable...",id:"popupaction_never"}},popup_actions_imgs={},g_frame_css_str="",g_ctr_getAbsPos=0,g_ctr_weasel=0,g_ctr_getzindex=0,g_ctr_getWW=0,g_ctr_nosetheight_A=0,g_ctr_setheight_A=0,g_ctr_setwidth_B=0,g_ctr_nosetwidth_B=0,g_ctr_setheight_C=0,g_ctr_nosetheight_C=0,g_ctr_setwidth_D=0,g_ctr_nosetwidth_D=0,g_ctr_settop_E=0,g_ctr_nosettop_E=0,g_ctr_settop_F=0,g_ctr_nosettop_F=0,g_ctr_setleft_G=0,g_ctr_nosetleft_G=0,g_ctr_recheck=0,g_ctr_setposition_H=0,g_ctr_nosetposition_H=0,g_ctr_setzindex_J=
0,g_ctr_nosetzindex_J=0,g_ctr_numspan_setzindex_K=0,g_ctr_numspan_nosetzindex_K=0,g_ctr_numspan_setzindex_L=0,g_ctr_numspan_nosetzindex_L=0,g_ctr_measureText=0,g_ctr_measureText_cachehits=0,g_ctr_measureText_cachemisses=0,g_ctr_formcache_hits=0,g_ctr_formcache_misses=0,g_ctr_form_get_username_M=0,g_ctr_form_get_password_N=0,g_ctr_orphan_get_username_P=0,g_ctr_orphan_get_password_Q=0,g_ctr_looksLikeUsername_R=0,g_ctr_mutation_observer=0,g_ctr_mutation_attribute_chg_S=0,g_ctr_mutation_attribute_chg_force_T=
0,g_is_specialsite=null,g_nevers={},g_last_recheck=null,FORCE_OFFER_GENERATE=!0,NO_FORCE_GENERATE=!1,FORCE_SHOW_NOHITS=!0,NO_FORCE_NOHITS=!1,FORCE_SHOW_NOHITS_NOLOGIN=2,g_icon_shading=!1,g_do_icon_number_hint=!0,g_icon_hover=!0,g_icon_parent_hover=!0,g_icon_number_overrides={sites:-1,formfills:-1},g_icon_numbers={sites:0,formfills:0},g_visual_cue_on_hover=!0,g_show_icon_only_on_focus=!1,g_show_save_success_msg=!0,g_save_suggest_msg=!1,g_creditcard_profile_annotate=!0,g_show_icon_number_for_formfills=
!1,g_save_suggest_msg_seen=!1,g_change_icon_on_input=!0,g_savesitesuperbox=!0,g_dologin_clickable=!0,g_use_grey_icons=!0,FADE_MAXSTATES=100,g_aspx_hack=!0,g_found_aspx=!1,g_clickable_input=!0,g_clickable_input_on_password=!0,g_popup_active_username=null,g_popup_active_password=null,g_extended_kbd_nav=!1,g_iframe_scroll_hack=!0,g_frame_scrollable_set=!1,g_defensive=!0,g_pw_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABMUlEQVQ4T32SgVHDMAxF6QZ0AswELRuECcoGhAloJwAmACZomAA6QbMBZYKaDRih/+UkTvHF1d0/x/L317eU2cX5WNrxoUabTRwk5Z6EtjjrtH8RcsyXAlx6FS6FneCVcbIS/oSNgNgQUQDSt/Bj1UvbnHNxIdy4eBTolYQEsOkXKIQzBL0I3NvoIGlzFN6Ftbl71gqRaAT2xJvwKFwL2R1A2Jsql6hEL7JdSlp5Oy7uhE/nukCrxDYIUI1JxGAC5L3Yg7670sGQNGJNwMXpQR+byIjoAx3mCViN8aVNFpjUXGDUozG6srvgPJkYlwnc3Qv+nJEAhNZIfDcCzfoVeA4FcPZhvEFx6ld2IZpaxn9lP6gJUAnbV+aA6uzp0yhqApBoUmdrM+Hm7BMiP2mTawInofVEEf5J2pUAAAAASUVORK5CYII=",
pw_svg="";("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?pw_svg=getchromeurl("images/svg/generate16x16.svg"):"undefined"!=typeof g_isie&&g_isie&&(pw_svg=g_pw_ico);
var g_ff_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAvElEQVQ4T2NkoBAwIukXALL9gViBgJkPgPIbgfgDSB2yAQVAfj+RDioEqpuAbkADUKAeiB0JGLIfKN8IxCD1KC6AGYDsqgtANf+B2BDJUBCfaAM2QDUGkGMAcpjA/Qx1EVEugHkJZDlcA7EGgKJSHi0wHwL5D4g1wAGoEISRwQEgB4SJCkSQZns0Aw6SYgDICyCMDEDOJ8oL6E5HMwfsDayxQHFSBmUmUIJBdzq6C0DeWAATRE626AqJ4gMAKh82EQu8MAEAAAAASUVORK5CYII=",ff_svg="";
("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?ff_svg=getchromeurl("images/svg/formfill16x16.svg"):"undefined"!=typeof g_isie&&g_isie&&(ff_svg=g_ff_ico);
var g_sites_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDhsdjWkOXwAAAKJJREFUOMtjYBi2QIGBgcEBiW8AxUSBAgYGhvcMDAz3kcQuMDAw/GdgYGhAV8yCwxABKE6A8vWh9ANiXXEAauN9KP4PFcMAjGj+loeyH6J5gQHqmgdI8hiuaYDaRAyGhwUTpdGF7gUFJPZ8NLWGSAH8gFCAwgIRpvA/AwPDfmJdFYDk1wQohvEL0BVjCwMDpJBeAMUPGRgYPlKSlB2Qwme4AQBDOy61dYCtFwAAAABJRU5ErkJggg==",sites_svg="";
("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?sites_svg=getchromeurl("images/svg/sites16x16.svg"):"undefined"!=typeof g_isie&&g_isie&&(sites_svg=g_sites_ico);
var g_close_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAl0lEQVQ4T7VTgQ2AIAyTC/RD9QO9QLxAP1A/1A9sDZgFo0CQJctcWOs6hioSTRl8hVjDGUNsR9EG3y1Bh2QKQYqaHt+zJdBIhkiCEfU6G8HB9kRX/BtllqLLzw6uQ3hjAKvJpUyvhBYgAmkkWpwZ5SVIlsBF4RA5BxojhygXzSvBkfxI/yVIXmVq41XFPCZe8f2YfHpfz0+q7C4R/Q4GAgAAAABJRU5ErkJggg==",close_svg="";
("undefined"==typeof g_isie||!g_isie)&&"function"==typeof getchromeurl?close_svg=getchromeurl("images/svg/close16x16.svg"):"undefined"!=typeof g_isie&&g_isie&&(close_svg=g_close_ico);
function getnumbericon(a,b,c){var d=0;if((a=getIconState(b.ownerDocument,LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME)))&&"undefined"!=typeof a.fillhintnumber)d=a.fillhintnumber,isNaN(parseFloat(d))||!isFinite(d)?d=0:10<=d&&(d=9);a=[g_sites_light_ico,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiEFu6xIcAAAAXhJREFUOMvNk8FLVFEUxn/ffRdmIAla1CbBFDGCpoiQWYlBLty7UHAvEq2HYLhveDMws2/TIly6E9SdIEj+AVYgRaTgXhe2C968x2nhTOjow8pNZ/ede/ide893Lvx3UavVhkMIk30dQqiGECpF9e68CCG8LpfL3yStAAIk6Z2kT3Ect68C+AGdSroFVEII82aWSXoGYGYHVwE0qOM43pU0BXw3s1zSI2AnSZKXhYB6vT7inLvd7XZ/eu8fOOe2JEW9zjkwZ2bHkoayLDtpt9ufLzzBe/8GWC6VSpc7nIE2pLPLeu/fA0uDQ3T/6pp6039uZnfN7Ieke1EUrQOu3/VawPloNBrbwIyZ7TvnLvg/+mKOJ3xk88NR4R4sADM92fp9MDRMdXaRxenHVMbuFy8SMAFkZval2Wyu9ZN3Hk4zWx0nAtKsWwxotVrNNE2f5nn+CrB+/nRvlSR5y2EK0TWbSKfT+fo3Lribfr4bA/yfl56y2kkuZX8BjXVyqMs8oFcAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiMeA//jHgAAAdRJREFUOMvNkz9oU1EUxn/nvkeSokgV2oIoNbVUi5Qgj+ogomAWB3GQEtFZUdE1COG+/IMEHLp2kI7FRdCCgxCQdhJFsSKCtIUMDoU42EEMvORxHPIiNSb+mzzbxz33+873nXvhv6tsNnvAWjvbxdbak9bamUH9Ziew1t5OJBIfRGQREEBEZEFE3vi+X+lH4PbgQER2ATPW2oyqtkXkOICqbvQjkF7s+/6qiJwG1lU1FJFp4FmxWDw3kCCXy40bY/a0Wq2m67qHjDFPRcSJlEPgkqo2RGR3u93+VKlU1n6w4LruXeBGPB7/WaFD9FikM6zruveB670hmn/dmkTpe6o6oqrbIjLqOM4jwHRVf0uws/L5fA1Iq+o7Y0y0/xip9AVOTO7j69YGteUVGlG/0/MOLotINoJ3RGQOIJm+RubUBHGFkfEpZqeHeP5qk7CP9ymgrarvS6XSw676kWNj0FyjOj/Pk3oAY/sZ7hdeuVwuBUGQCsPwFqDR2+LFgwWq95YZ9S5yPhkjqK9/t/DLlAqFgnanOHv1Jmcmh9neXGVxaYUvf7M+L9O53Pz4mtrLBodTSWID/kKf2svRiY7joYMec1c8COtsva3T+DOCzyxViwNPvwEMIZXdCan/PwAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiIBl+zfqgAAAdJJREFUOMvNkj9oU2EUxX/3e4+X2AYtgoIotAUVlZSiVQKCOFgwQ50cKhUcg4qbEITwvfyTjEKnCqUgbqJooQgFRXAROoiiKFWHOsdiSw0UXvK4DkloGl+wOHm2c7ice++5F/47ZLPZQ9baM21urU1Za0d61ZtOYq29FY/Hl0VkDhBARGRGRN75vl+JMnC7eCAi/cCItXZSVRsichJAVb9FGUg3933/tYicA76qaigix4FXxWLxQk+DXC43aIzZXa/XN13XHTLGLIqI0+ocApdVtSoiiUaj8aNSqbzftoLruneA67FY7M8OTaN5keawruvOApnuEM2/Xk1a6Y+p6j5VXReR/Y7jPANMu+tfDTqRz+dfAOOq+tEY07q/x1j6EqeG9rLx/QPPF5eo9fiDK8B4i5bb+pGJDBOpJH3EOJZKk5kcjX4k4CjQUNVPpVLpSVNKMHjAY315nun7D1gJoS8WjzYol8ulIAhGwzC8CWhTrfFy9h7Tj1yy+dsMO7BarfbOoBOFQkHB40TqLLt+fubL6h4uXp0iObDCzN2HVCNeOQL9nE6fZzg4yMbcG3Caan3n91/j6eMlfnmHmbpxjeTAJm8XFljb+Qpb8BIeQS3YVvMbj7WWjTVB6I8AAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiIqO1Am6gAAAb1JREFUOMvNkk1rU0EUhp8zd0gCrdKFNgiCFatiIYgUKdW6aikuhIJF6kJcdFFEXAclzM0XJH9A6EL8BSoqZlEQCl0GEQU/qApdiYouKmgUbu7luGgC+boUuvLdvcPMc86c88J/p2w2e9g5d7btnXNTzrlM3H3TaZxzt1Kp1KaI3AcEEBFZFZFXvu9XBgFsjw9EZAjIOOeWVDUUkTMAqvppEEB6ve/7GyJyAfioqpGInALWi8XibCwgl8sdMcbsbzabf621Y8aYNRHxWpUjYFFVv4vIcBiGPyqVyuuuL1hrbwM3kslkf4Ud0BORnWattfeAld4hmr1uTVrTn1TVg6r6U0RGPc97DJh21V0Bncrn88+BOVV9Y4zp2v/w0RkWzo2w8aDG52BwDq4Ccy1b7iInJrh2fZbx8QxjQzFBAk4Aoaq+K5VKDztec3H5MmkAIppxSSyXy6UgCE5HUXQT0Pb58UvLTB34Qm1tE4CwEZ9EqtXq++6TUaYn0xD9YuZ8Gkgwv7LA1t2nbA8C9OsPH16+peGFpA6dZGQfbH/9RiOug379pl57RB1ITCxy58oxXjyrE8StsVOFQkF3w/8DCTuL1wm1OYIAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiQbPNSBVgAAAdVJREFUOMvNks9r0nEYx1/Pxy9qzAIJXTWp7BCOMSJkC6KdtqMdIkZR4DEqOktDPooKCv0DBdEturSo2IIoKIQ6dBi5RmOsTrHTIjbIGqlfng4qbO4rRaee2/v9+fB6fsJ/F5lMJmatHetqa+0pa+1ov/9mu7DW3ggGgysicg8QQETktoi8z+VyZS+A06MbIjIAjFprL6hqS0ROAqjqJy+A9OpcLlcVkQlgVVVdERkGXhUKhcm+gGw2e8QYs6/ZbG45jnPUGPNcRHydzC5wXlXXRSTUarW+lsvl2o4WHMe5CVwNBAK7M7RBT0TaxTqOcxe40jtE869bk870k6oaUdVNEYn6fL7HgOlm/SNge+Tz+ZfAlKouGWPa+/fHSZ0bZ6DdAz8+V5l/t+Z5BxeBqY4sdf3Q8DjJRIKhSITI4BCx2KD3IQHHgZaqfiwWi7NdM3IwDHzjQ61GrfqQO48WvAGlUqnYaDROuK57HdCuHz0UBvYzdnqCyVSamfSZvpdIpVJZ7vVWXz/le/MLy2t1kukZUoePEeUN616A3RHm7OVp4j9XeHB/iZEDfnB/0fz7/W8wN7fA1t4El65NE9+zydvZZ2z0a8ETsTjPrcUXhEJ+6vX6jrffHVGXQ3t5OMYAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiUQsh1pnwAAAdhJREFUOMvNks1rU1EQxX9z37OJGAUF4yfYQBTUlCpBixhRaBcuAoIiiovsFBXXQQk3IYkkf4IF8S/QUjdCURELdlWjglSKunHhIukiQktLX/IYF0mkTRP8WDm7M/dyZuacA/9dpdPp/dbaEx1srR2x1g71+2/WAmvtnWAwOC8ijwABREQeiMj7bDZb6kXgdmFPRLYAQ9baK6raFJHjAKr6pReBdONsNjstImeAz6rqi8hh4FU+nx/tS5DJZA4YY7Y1Go0V13UHjTFTIuK0J/vAJVWtiUio2WwulEqlD+tOcF33LnAzEAhsnNAieirSWtZ13YfAjW4Rzb+6Jm3146q6U1V/iEjYcZxJwHSm/pZgbeVyuRfAmKp+NMb88v9g4gLnYntYXZhnauI1tT45uAqMtWGx0w8nUlwbPYazvMy+2FluXU/0DhJwCGiq6lyhUHjSaoU4dTICi1+ZfTvHbKXC9LvvDPQiKBaLBc/zhn3fvw1oq7uJkAtsjZK8mOR0PM7w4A68PkmkXC5/2qCUA1RnyI+/ZCR1j/Oxo4QnKtT+zL4636oe7IoQjxwhunsAVlZp/I3/byafU/X3kkxdJrp5kZnHz6j3O6H3EhXG71cIbQ+xVF9a9/QTGr2YJMqy6kMAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiYB84AargAAAa9JREFUOMvNk0FrU0EUhb87bzABiyhiC7XQKCq6CCJF3FhQ7E7BhYL+AhFxHYQwL7xEknUX0kUR3LhRQQsuxAahgkvRIpaiXYmrCiaCILzMcF0khTZ9z0JXnt2ZGb4799wZ+O9UqVQmnHNnN7xz7pxzrpx33mw2zrm7xWJxVUQeAgKIiMyJyIc4jptZADvkUxHZC5SdczdU1YvIGQBV/ZoFkGEfx/GSiEwDX1Q1iMgp4E2SJJdyAdVqddIYs6/X6/2x1paMMa9EJBpUDsA1VV0XkRHv/Y9ms/lxSwvW2nvA7UKhsL1CH/RCpH9Za+08cGs4RLPbqckg/SlVPaSqXREZjaLoOWA2qu4I2KxarbYIzKjqJ2NMGUY4f/Uyh4se7/td+1+rLLSXt4/ROXcTmBnYBvAE4GDpOCf3RwQgAgiWt+1lOhm9nwC8qn6u1+vP+ku/WZi9T5IkPHi5BqS8e/SUTlZ4jUajnqbp6RDCHUC3so9w/cox0rXXtL+nuS+RVqu1khXWxIWLjBNYWnyf/xf+pdLRMQjfWFlnN4ADTI7tge5Pujt8phx1eNxKMnf+AqjSjZJP5cFjAAAAAElFTkSuQmCC",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiYvL1YXYQAAActJREFUOMvNk71rU2EUxn/nvdckkCgWsYv1Y1EQWlMJUkWqQzsUdOtQ/4Jgi3NQwntvPiDZXQSDi7P4sRUqhYKTIhaMIjoIhSKNFDsExZt7OQ5NMI03VJx8tufh8Jz3nOe88N+hUCiMWWsv9Li1dspaOzGs3vQTa+2tVCr1QUQeAAKIiNwTkTee59XiDNwBHohIGpiw1i6oaigi5wFU9VOcgQxyz/PWRGQa+KiqkYicBVbL5fLMUINisXjSGHOo0+n8cF33lDFmWUScbucImFfVlohkwjD8WqvV1veM4LrubeBmMpn8s8Ou0VOR3ce6rtsA8oNLNP+amnS3n1PVo6q6IyKjjuM8AUyv674G/fB9fwWYVdW3xphu/hmmrl/j3NgIP780efzsBe0hd3ADmO3Sak/PzueZy52G7xHHJmdYWsjGHxJwBghV9V2lUnnUE1PpJOys03jY4NU2JNIH4w2q1WolCIJsFEVLgPb0zY0tOJzD930uH4Gtjc2hl0i9Xn+/Vxnh6qXjsP2au/dfciW/yOTFaUaff6b11/E5gJPkAB2iff5CDL6xttLkxNw4i3fGgYDm8iqtYTH2o1Qq6W+WIJNJELTbBH01vwC+YJMlVG88LQAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDigO/bwqsQAAAfNJREFUOMvNkz1ok2EQx3/39umHmpZWMUVaUEEUpWlQ0QyiCDooFhwcFN2lgqhTEMKTDwsZCw4SQQNOLh20KBgQRZ0kIK2LlBaqtNKhfkRqbHnfvOEc0kCbD0Enb/vD8bu7/93BfxfRaLTfWnuoqq21EWttqFm+s1ZYa692dHRMiUgWEEBEJCMiE/F4PN0IYGq0JyKbgJC19ryq+iKyH0BVZxoBpFbH4/HXInIUmFbVsojsBV6mUqkTTQGxWGy74zhdpVJpxRizw3GcnIi0rFYuA+dUdVFEAr7vf0mn05PrRjDG3ASG29vb6ytUQI9FKs0aY+4Bl2tNdP51a7Lq/kFV3aqqP0QkaIwZ/yvA2kgkEs9F5CQEiAydYbC/i6VPeR7l3uM1ALTU3MEFEYmKCJFLNzg1sA186NsVZl/nAvnp738+JGA34EOQPTs3UP6YY/T2KC8WymwJHaYHgABDw9c5G+6pB4yMjNzyPC8My/zyoKVvkEj4OAO9lUZbAdjI5t5ugp2tzY1JJpOavv9M55ZcVd9VV1XVndE3s8u6Plxtsr42jp0+QvfPCTJ3xvkKeHNT5J88IJsdY74M3yafksncrfuF6kvw9tUHDlyMcOVaBFbmeTj2jqIHxUIJF3A/z7K4WKhfY3WEaieBnjaKhWLTcX8DATq/EhizV6kAAAAASUVORK5CYII="];
b=[g_sites_ico,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiA7Y9ZkmgAAAOlJREFUOMvNkr8OAUEQxn+4UkFN4k8kGv865SmVEqXGI3iEvUrvBWg8gDfwAsQDSO48wfVHQmEkg3NWrjHJZHe/nZ2Z79uBf7QqMFDnnriVzYAQ8BV2AK6AiXvgxGAF8amcu7IGtl1spaIvfhUs1jKKd0X2pxcKSDeBun/rxkglG3/SIpv2yzSFqtovAYwxXxM4SuFAifjgWtHBtcGYDns2W/8jhRHgKl3uli/TH06YuC3a9RJJGvRU9dUDLDZdhv0GOSC6nBMTGKCmhgiAcLfG8xYcI8hZTGLwy9Sl/sbUCRz70JD13HtDbwm1Old+g8VwAAAAAElFTkSuQmCC",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiMmK/1bgAAAAUhJREFUOMvNkr9Lw1AQxz9KCCgIUcSCICYaUFBIIODikA4ddBC7iKCLONlJ/4Q4devqJLoUZ8GtIC24KAh1VSERh0KWdrIQkDr4Wp81oREXD453d4/78f3ewX8UHchKvi00lRwBTcCXYnWgA3hxCUpMTBO6J3xLvEHaKaqioy+0I2KxMiThnhX2Sx8ExDSB9P9jGk90SqPfuBj+68pkCLpknwF4njewgCIxHEgkdrEKXlSs3AYr5gRvjScql1XCBAh5wJV4AcDI7ZNfXWZydAzTdikcrKEmFLCl7ufd7gtLGWjXKZZKXPkRZKbREg7JE4n6Vyji9uKE6zBkytlk3VCJ/McehLhLDPr33AxbZHcPcU2N1nON0/LN79bobBdwTY326z2Vu5B5y+hxoAxOH2dx7hPxyIzD1o4D7z6NB58wXYEm5eJx4u8Hfzxclyg/Z/wAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiII7jBnDgAAAVBJREFUOMvNkjFLw1AUhT+1pFo7FAdFHBrBgkihxRQ6STtmqOAmOIhTwU0QXH2/QNBBBBE7uQgilIJDByehgyDi4JaIkwWJ1IJQkTr0iS8xqQEXD1xy70le7j3nXfiP0IGiUmdlhMIG4ACWwt0AXUD4HYj4cAkZa7LOyKcddopL2dGS0ZWcLwYU3UmZP3gkIKexlfc/phGyU5hweTH41ytTJehKfgwghPj1BxHFYVsx8Uur9EXDMBeZ18do2bfULhq0AyQsAQXFFwBSpTKlfJoYUWbzJuXlTKAHWaV7pZfGSU5qvNyfs3tQwfqAWHQ4cJGEPKh/U23qhzvUMdja3mQEeGo2+96C7V4cjbl8ESP1yP7eCXfPMJFbYLzPKnswSs4sMN2ZonV0BUM99j38HjicnTZ41WZYWV8lnXjjulrF8eyBL4QQXbXW4hqddsf1zSd981rsA+U7cAAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiIxsTXvBgAAASpJREFUOMvNkrFLw1AQxn+2EhQVIohFKJhqRSiIBQcRCxYEcSgoilNFSgdnV7f3n+g/4GQHx65BBAcHnRoXdetiHGolLgdeYpoGXPzg4727x7u77+7gP8IBqsouC1PhDOgCHeW7BwLAxH0YjfHZwobYq3J6aatoS8aOMBBfLEaU7nm5P0ckINV46v1XNUYypWGoF5m/jkxLcNT9AsAYMzRARnW4LWworSFMFirU6zXy1mAJ+8CW6ssPrBLHJ9sUiys4E4MDlFX2S/Wb3eYBOQC++ExoogEKSgYAS7Um6zMvtG4eAej7yVPwwoszy8ZaDrCpbC4A4+yc7jGdsMoRfPB094Cf7TM2t4w9Bd3XN/z0Ad5xW1e4gFU65Pxokdtrl15kD2JhjAmGhf8GfYtLPXngvXwAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiQSRQg58gAAAVdJREFUOMvNkz1LA0EQhh/lOAhG8IpL1ARNrE5SGAimEIL+gAhapFEQWztbu+sE/4QiYmUjiY0gKsTCIpAoiIiQU2IjSARPowSJhRvYXO70wMaBYXdnmI/3nVn4jxIDZqR3UqgvWQXqQFWylYEWYLoFKC62AaHL4j0hTstvFyeiYlVoS9hcpUfCPSrudw4IiG4syd/VjSkq+dEOLnr/OjIZQky6bwKYpvlrAkVi2JJIbGP95kWNk51P0wegKLzenlI4r7lCmAOmJV4ACI6nSRkGEV1HD0eIRsOee5CUqm+1oehDGvDERbnMe+OBYqnqmcAUgTHZGBrWAJXJqQxqQCWTOGJ9u+i5iZZzzjfH+7w077mq2aSW1siOjBGiyKNHAodozC7miL9ds7tzSWJQhc8Pmv73oE4+X6LRb7CwkiMeeOZs74D6D5+pO0WlwEblkGBQxbbtDt8XLQlh5BtbXRIAAAAASUVORK5CYII=",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiUJ1nbBXwAAAVBJREFUOMvNkz1LA0EQhh9NDASuSJr4VZjA2WjAgCAIBwnYBhTBxiLYWNj5EzaQH2GnvYiVEKxSmEoPUlikEO5SSDiFnJAQyanEwg1uzEVPbBwYdnaG2Zn3nVn4j5IEcso9IzWQHAIuYCm+GtAHhF9C2McXk7on7yvytIN2UZEVLal96fOVCQX3grQbXyAgu7GV+Eg3QlYKokNcTP51ZCqEpGIfAwghfnwgrDBsKyQOsA54YdHYJJeepfdYp3xW4WEMhC0gq/ACQMIosLuRIdTtMp/OcrBvjN2DjFL95AOKxvpaCtp3XN/UibdavDbviQCezwNCJiY/XVNoYSCqk9/WIQRPt00qpjV2CvbI4oQAp0qxVKRsecTSyySCj9Gl4XgwnWI1tYQ+E4HnHi+/2YOr80uctznyhR30aJvq6QXuN5/JpwmTo5KJFtfouJ2h0Du9o2L2gjumAgAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiYHGuO/mwAAASZJREFUOMvNk79KA0EQxn+aQywsEiwCMXgXUbAzYCsYawNa2KXJEwQfYQXB2idIGiura/UKFSwF04iFkItYWeQiWIU7YpERxrjqkTR+MOzuDPPvm1n4j/CAinqXRVLhEIiAjtLdA0PA2Bwciy4rUpf3hpxh2iquJGNHZCg6K2ZU367cu2MtINWEyv6tGiOZ0sgXLmanHZluwVP3JoAx5s8AjmI4VCR+9urCAlt7uyzNx8TxyCV+e8QP2tYx7gPbipcmwKK3xno2QwJkABKHm6BNZAlQVtlbowDv+KfH+EBus0ajusxt65zoBxINUFJLpFDioLrK4OmC4GXw6yaGtjkXKzsUSLi+vGOiMXoreUieeXhlkgA53Pwc9Hv0U3wmCyLOTo6slg+fZlNd2Y2MegAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDiY3PDqPNwAAAURJREFUOMvNk79Lw0AUxz/amgqNYBcHf8bBrdhABnWQCi4FHQQHVydBJ1en3ubu4tBB8Q8Q3ARBLLiJkCGDW6NQRSHUIQhGShy84jUmGnHxC4+7971c3nvf9w7+IwxgQfFNaamwDbSAhsLZQAiIuAvZGG5Q2rr0S3J102ZxISM2pIWSi0WPUveE3N9GSkBm4yrnX7IRMlIa69Ki968tU0swlP0BgBDixx9kFYVdRcROrVIXnZnlJaZHC7w+OByfXOInlLAClBVdPvq4ukHFmoKXNiPmIltrpUQNTCX6YYfsz+fg2aZ2VOPKAy0/kDhIQl40VLJ59wiTFtWqBcD9TfPbLrjdg1OgPDcG3jV7u/vYHgzPzjP0qzZmgEyOPt5op3gLEbSonzmMV4ps7hSBAOf0nKfIHMRCCBF+ehq6rhH4PoHyzTsT9lgsYELcCQAAAABJRU5ErkJggg==",
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDigXmdeCcQAAAXtJREFUOMvNk88rRFEUxz8MIzKaoWYWFBZiwYwob6GYJZlizcZKWOBPuCvLKQuNhYmVzSwkio2SlaaEjZQyz48sRFPjGb3HdG3u6M3Mm5qycep0zzm3e873e8658B+lAwjb/H6lFckKkAZSttglIAHh9KDGIeZVOqv8kDr1SlGcqIoppVLFHKXKxrtd2fdFFFBodNt9CRqhKlWiBb2o/uvI7BQ68rYQYqvSBDW2Duu2JgKNaJEJgm1NZPQku0dXWA4JiilMAaMA2swiY4M9eOo89GhTzEW6HBEUJ1Ab56e7s55c6ojoWpTj5xwtfUP4FLLI/DKTIZ9jAgF0QpYPC1ytQbRQmN6AC4BaABpoDnjxe2rLN0YIIVc3D+VDxpTy25SmlFKat/L0LisLxZRlxuhmZHwY7/sFsfU9XgHr4Ybk/jbxeILHHLxdHhCLbTj+BcDi7OSagWmNhSUNPh/ZSZxjWGCkvzAB8+mOl5f07x6UUMgjafS5MdJGWbo/W6+PV71qU8EAAAAASUVORK5CYII="];
return c?b[d]:a[d]}
var g_sites_light_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAASCAYAAABSO15qAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3QsPDhss3LcOZQAAAU5JREFUOMvdkzFLA0EQhd/bO7iIYmklaCUopLAQA6KNaawt9BeIgnUwLHPJRchfEBR7CyGWgiDY2SlIQBT/gDaCoGDudiy8SLwkBiwz1c7y+GZ25i0wnFEqlSZFZKGdi8iiiOR7aU32QkR2c7ncPcljAARAkgckb8IwrGf1fg/oJ8lRAHkR2VDVmOQ8AKjqY1bMHgCGYXhFchnAg6omJGcBXEZRtNoXYK2dMsaMt1qtD9/3p40x5yS9tHICYF1Vn0mOxXH8Uq/Xb389wff9PQDbQRB0t/QNOiPZ1h4B2MoO0fxnYz8dOOcOVbWhqq8kJzzPa3RAXZIkawCenHMjJN/+GiIqlcoFgKKq3pEMAMwAuCa5VK1W3SAfbAIopum+cy5KzwXn3M5AI6XVYlVt1mq1U8/zTlS1CeC9j2+6o1wuz1lrVzpWXLDWTg3pz/0CQnd2Jos49xUAAAAASUVORK5CYII=",g_pw_light_ico=
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACIUlEQVQ4EX2TOYhTURSG87IMihDsjGghBhFBmHFDHLWwSqcikk4RRKJgk0KL7C8bMpWpZtIqNkEUl1ZCgs0wOo0SxiLMDApWlgOPrH7/5b2QkYwX7jvn/uc//zl3edZ4PPbNGvF4fC4ajR5VrNvt/mo0Gr1ZPOtfgWw2e9Lv9+chX7cs64CS4Oxg3o9GI7tUKv0Q5o1dAiTfCgQCLwnOkfQOu+oSLyJ2A783HA7vIPLGxX0TgVwud4HKn0nc7Pf7N6vV6oZHkkX8FPG3uMfgXC0Wi2vCg/poUKGGcagQI3k7k8mcp5slcGswGDwpl8tfwGJg3xB6Dvey8vz6oH4C3iXcFYjbwiDeo1KafafkC3NjK7iL5ESFGQEUF7Sg+ifZdDp9GnMF/KGmfBdT2HCwZ7TwtrBPC7rQaav6Iv48rqZwg+F+p8hOMBj0IbxfMdMBrW5pAVGV/ztINByENkU0t5BIJEKRSOQ3Aj+Z57iFs1R5NK3EQS6HQqF1zmQdzpFWq3W42WwOTAf1er1PF2USFlC+qxMvFAr3HcexWX+QX6lUvsKpkTyPSEXJkw6MQ4S38Ljdbi8rmM/nY+CvgNcQqdH6U/xrYK9t244jZv6ByUOSiDdIfgBZ12U6dHEHu9TpdIr8F0OP692CtzaW/a6y3y0Wx5kbFHvGuXzkgf0xhKnPzA4UTyaTB8Ph8AvcHi3fnsrZ7Wore02YViqVOrRXXPhfqP8j6MYlawoAAAAASUVORK5CYII=",
g_ff_light_ico="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABHklEQVQ4EaVTO26DQBD1ohQWaS2lg9JybZ+AK7hNwx2oIoVf4UPQ0Lj1FdKktevIpel8AKNUkDcWMxpgSaIEaTVv3sx7uztiTdu2s/98DywOw3Dued4Who/M2aIx5lZV1aEsy0+qiwHELyi+Ytl0PQ69SxAxkWIA4RMRTdNsKE59juMcuZd6xIAFeZ6fGCdJ8kY4y7KAuTRNGd7jyEBXsdOPE3a0QGPsniOnnYMO67LgSQN9T41F2QGrQRRFCwyzoIF2qyBuKKbcOgPXdVeY9rMWgNsjf9ccYesJhk3f5dYT1HX9gR0LLQR30TnjkUEcx2uIuS4RnI+aj6sJR0AM8AaumPaM/rRehyWhXqbFAA9kh3/8/NvHxAYGAsZ/il8IalkCLBfNVAAAAABJRU5ErkJggg==",g_close_light_ico=
"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA3UlEQVQ4EaVTOQ7CMBCMETShzcdo4CVOkyJykQb/AXoaPsQT0uLGRZhZxVIirSMDljberOfwaaZpqv5pe5Kttce6rs8QO5SIGWNiCOHhvX+LAMko3hAlfMGAw/6+47fUmdjUEkcEUvGXPicwwqFFxDlaiI+agSoA0tU550G4MJizpgnIJioDQ9/3LxCfHEN+QjcouEqdgQbM1XICHd3pzJhn0mki6hJwH1oQiZdpI+9YKxYAsAFhuWnLfKWTW8IKtPUjAnCLWyBtLHFkD/gweLdx1l89JgobkDSD4toHHT5aJu9+N80AAAAASUVORK5CYII=",g_svgs={},NAV_BAR_HEIGHT_CSS=42,SHOULD_DO_LOGIN_ONLY=!0,SHOULD_DO_ALWAYS=!1;
function popupfill_shoulddofield(a,b,c){var d=[];if(do_experimental_popupfill){if(!(null==b||"undefined"==typeof b.type)&&("password"==b.type||"text"==b.type||"email"==b.type||!c&&"tel"==b.type||!c&&"url"==b.type||!c&&"textarea"==b.type)){var e=LP_getname(b,LP_GETNAME_FAVOR_ID_OVER_NAME);if(lp_in_array(e,d))return verbose_log("fieldname "+e+" is blacklisted, skipping"),!1;if(is_search_field(a,b)||is_date_field(b))return!1;if(c&&!chk_form_has_password(a,b.form)&&!checkDocumentForLoginOrphans(a)){if(verbose){var f;
null!=b.form&&(f=null==b.form.id?"(null)":b.form.id);console_log("form "+f+" has no password field?  Ignored")}return!1}}else return!1;return!0}}var NO_CREATE=!1,OK_CREATE=!0;
function create_or_move_overlay_icon(a,b,c,d,e){if(do_experimental_popupfill&&!(null==b||0>=b.length)){var f=LP_getElementByIdOrName(a,b);if(null!=f&&"function"!=typeof f){var h=a.getElementsByTagName("body")[0],g,j,n=LP_getElementByIdOrName(a,MAGIC+LP_getname_or_idx(a,f,LP_GETNAME_FAVOR_ID_OVER_NAME));if(null==n)if("undefined"!=typeof c&&!0==c){var p;p="generate"==d?!0:shouldOfferGenerate(a,f);j=a.createElement("div");j.id=MAGIC+LP_getname_or_idx(a,f,LP_GETNAME_FAVOR_ID_OVER_NAME);null!=d&&(j.setAttribute("intrinsic",
d),"undefined"!=typeof g_isfirefox&&g_isfirefox&&null!=e&&null!=e[d]&&j.setAttribute("intrinsic2",e[d]));"undefined"!=typeof g_isfirefox&&g_isfirefox?(null==a.g_popup_divs&&(a.g_popup_divs={}),a.g_popup_divs[j.id]=j.id):g_popup_divs[j.id]=j.id;g=a.createElement("img");f.offsetHeight<LPICON_WIDTH&&(g.height=f.offsetHeight,g.width=g.height);g.id=j.id+"_icon";b=!0;null!=d&&("formfills"==d?(g.src=ff_svg,g.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_ff_ico+"';"),g.style.opacity=
"0.6",g.style.filter="alpha(opacity=60)",b=!1):"generate"==d&&(g_use_grey_icons?(g.src=pw_svg,g.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_pw_ico+"';")):g.src=g_ff_ico,g.style.opacity="0.6",g.style.filter="alpha(opacity=60)",b=!1));b&&(g.src=sites_svg,g.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_sites_ico+"';"),g.style.opacity="0.6",g.style.filter="alpha(opacity=60)");j.appendChild(g);if(g_do_icon_number_hint&&!(("formfills"==d||"generate"==
d||p)&&!1===g_show_icon_number_for_formfills)){var l=a.createElement("div");l.id=j.id+"_numspan";null!=d&&null!=e&&null!=e[d]&&0<e[d]?("sites"==d&&f.setAttribute("autocomplete","off"),l.innerHTML=9>e[d]?" "+lp_of(e[d],a):lp_of(e[d],a)):l.innerText="";l.style.position="absolute";l.style.top="-1000px";l.style.left="-1000px";h.appendChild(l);addEventHandler(l,"click",function(b){set_active_username_password(a,f.form);popupfilltoggle(a,j.id,f,p,FORCE_SHOW_NOHITS,!1,"formfills"==d);stopEventPropagation(b);
return!1});g_defensive&&addEventHandler(l,"mousedown",function(a){stopEventPropagation(a);return!1})}h.appendChild(j);j.style.maxHeight=LPICON_WIDTH+"px";j.style.verticalAlign="top";g.style.verticalAlign="top";"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] setting up click listener on icon for "+LP_getname_or_idx(a,f,LP_GETNAME_FAVOR_ID_OVER_NAME));p&&g_do_icon_number_hint&&(j.setAttribute("intrinsic","generate"),g.src=pw_svg,g.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+
g_pw_ico+"';"),g.style.opacity="0.6",g.style.filter="alpha(opacity=60)");addEventHandler(j,"click",function(b){set_active_username_password(a,f.form);popupfilltoggle(a,j.id,f,p,FORCE_SHOW_NOHITS,!1,"formfills"==d);stopEventPropagation(b);return!1});g_defensive&&addEventHandler(j,"mousedown",function(a){stopEventPropagation(a);return!1});g_icon_hover&&(addEventHandler(j,"mouseover",function(b){do_icon_mouseover(a,j.id,f);stopEventPropagation(b);return!1}),addEventHandler(j,"mouseout",function(b){do_icon_mouseout(a,
j.id,f);stopEventPropagation(b);return!1}));g_icon_parent_hover&&(addEventHandler(f,"mouseover",function(b){do_icon_mouseover(a,j.id,f);stopEventPropagation(b);return!1}),addEventHandler(f,"mouseout",function(b){do_icon_mouseout(a,j.id,f);stopEventPropagation(b);return!1}));addEventHandler(h,"DOMsubtreemodified",function(){popupfill_resize(a);return!1},!1);addEventHandler(h,"resize",function(){popupfill_resize(a);return!1},!1);h.onresize=onresize_handler;addEventHandler(a,"keydown",function(a){keypress_handler(a)},
!1);addEventHandler(f,"keydown",function(a){field_keypress_handler(a,f,d)},!1)}else{"undefined"!=typeof g_isfirefox&&g_isfirefox?a&&delete a.g_popup_divs[b]:delete g_popup_divs[b];g=a.createElement("img");return}else j=n,g_do_icon_number_hint&&(l=a.getElementById(j.id+"_numspan"),null!=l&&(l.innerText=null!=d&&null!=e&&null!=e[d]&&1<e[d]?("formfills"==d||"generate"==d)&&!1===g_show_icon_number_for_formfills?"":9>e[d]?" "+e[d]:e[d]:""));"absolute"!=j.style.position?(j.style.position="absolute",g_ctr_setposition_H++):
g_ctr_nosetposition_H++;h=getAbsolutePos(a,f);if(null!=h){if(f.offsetHeight>LPICON_WIDTH?(b=h.top+(f.offsetHeight-LPICON_WIDTH)/2+"px",j.style.top!=b?(g_ctr_settop_E++,j.style.top=b):g_ctr_nosettop_E++):j.style.top!=h.top+"px"?(g_ctr_settop_F++,j.style.top=h.top+"px"):g_ctr_nosettop_F++,h=h.left+f.offsetWidth-LPICON_WIDTH-2+"px",j.style.left!=h?(g_ctr_setleft_G++,j.style.left=h):g_ctr_nosetleft_G++,g_do_icon_number_hint&&(null==g&&(g=a.getElementById(j.id+"_icon")),h=parseInt(j.style.left),b=parseInt(j.style.top),
null!=l))if(null!=d&&null!=e&&null!=e[d]&&1<e[d]){var k=e[d];0<e[d]&&9>e[d]&&(k=" "+e[d]);k=measureText(a,lp_of(k,a),null,"font-size: 9px;font-family: Helvetica,Arial,sans-serif;font-weight:bold;line-height:11px;");if(null!=k){var r=b+("undefined"==typeof g.height||0==g.height?LPICON_HEIGHT:g.height)-k.height+6+"px",q=h+("undefined"==typeof g.width||0==g.width?LPICON_WIDTH:g.width)-k.width-2+"px",k="#ff2200";g_use_grey_icons&&(k="#808080");k="position:absolute !important; visibility:visible !important; border:0px !important; font-size:9px !important; font-family: Helvetica Neue,Helvetica,Arial,sans-serif; top:"+
r+" !important; left:"+q+" !important; background-color: "+k+"; padding: 1px 2px !important; font-weight: bold !important; color:#ffffff !important; cursor: default; line-height:11px !important; max-width: 10px !important; ";g="undefined"!=typeof window&&window?window:a.defaultView;g="undefined"!=typeof g.getComputedStyle?g.getComputedStyle(l):l.currentStyle;e=g.zIndex;""!==e&&"auto"!=e&&(k=k+"z-index:"+e+" !important;");"absolute"!=g.position||"visible"!=g.visibility||"9px"!=g.fontSize||"1px 2px"!=
g.padding||"11px"!=g.lineHeight||g.top!=r||g.left!=q?(l.style.cssText=k,g_ctr_numspan_setzindex_L++):g_ctr_numspan_nosetzindex_L++}else k="display:none;",l.style.cssText=k}else k="display:none;",l.style.cssText=k}else verbose_log("ERROR: unable to relocate clickable icon");e=getZIndex(a,f,0,0);null!=e?e++:e=CLICKABLE_ICON_ZINDEX;j.style.zIndex!=e?(g_ctr_setzindex_J++,j.style.zIndex=e):g_ctr_nosetzindex_J++;g_do_icon_number_hint&&null!=l&&(k=k+"z-index:"+(e+1)+" !important;",g="undefined"!=typeof window&&
window?window:a.defaultView,g="undefined"!=typeof g.getComputedStyle?g.getComputedStyle(l):l.currentStyle,"absolute"!=g.position||"visible"!=g.visibility||"9px"!=g.fontSize||"1px 2px"!=g.padding||"11px"!=g.lineHeight||g.top!=r||g.left!=q||g.zIndex!=e+1?(l.style.cssText=k,g_ctr_numspan_setzindex_K++):g_ctr_numspan_nosetzindex_K++);j.style.display=checkIsDisplayed(a,f,0)?"":"none";g=j.childNodes[0];parseInt(f.offsetHeight)<LPICON_WIDTH?(f.offsetHeight!=g.height?(g_ctr_setheight_A++,g.height=parseInt(f.offsetHeight)):
g_ctr_nosetheight_A++,f.offsetHeight!=g.height?(g_ctr_setwidth_B++,g.width=g.height):g_ctr_nosetwidth_B++):(g.height!=LPICON_WIDTH?(g_ctr_setheight_C++,g.height=LPICON_WIDTH):g_ctr_nosetheight_C++,g.width!=LPICON_WIDTH?(g_ctr_setwidth_D++,g.width=LPICON_WIDTH):g_ctr_nosetwidth_D++)}}}function parse_zindex(a){if("string"==typeof a&&-1!=a.indexOf("e")){a=""+parseFloat(a);for(var b="",c=a.length-1;0<=c&&"0"==a.charAt(c);c--)b+="9";a=a.substring(0,c+1)+b}return parseInt(a)}
function getZIndex(a,b,c,d){g_ctr_getzindex++;if(null==a||b==a.body||null==b||50<c)return null;var e=0,e="undefined"!=typeof window&&window?window:a.defaultView,f;f="undefined"!=typeof e.getComputedStyle?e.getComputedStyle(b):b.currentStyle;if("absolute"==f.position||"relative"==f.position||"fixed"==f.position){if("auto"==f.zIndex||""===f.zIndex)return e=getZIndex(a,b.parentNode,c+1,d+1),null==e?0:parse_zindex(e);e=getZIndex(a,b.parentNode,c+1,parse_zindex(f.zIndex));return null==e?parse_zindex(f.zIndex)+
1:parse_zindex(e)+1}if("auto"==f.zIndex||""==f.zIndex)return e=getZIndex(a,b.parentNode,c+1,d+1),null==e?d+1:parse_zindex(e)+1;e=getZIndex(a,b.parentNode,c+1,parse_zindex(f.zIndex));return null==e?parse_zindex(f.zIndex):parse_zindex(e)+1}
function shouldOfferGenerate(a,b){if(null==a||null==b)return null;var c=!1,d=b.form,e=!0,f=!0,h=check_nevers(a,g_nevers,a.location.href);null!=h&&(e=h.show_for_generate,f=h.show_for_clickable_icon);e&&(chk_form_ask_generate(a,d)&&isInputFieldPassword(a,b)&&f)&&(chk_form_changepw(a,d)&&b==lpCheckCurrentPWField(d)?(c=!1,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] form="+LP_getname_or_idx(a,d,LP_GETNAME_FAVOR_ID_OVER_NAME)+" field="+LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME)+
" appears to be current PW field in a change password form, offergenerate=false")):(c=!0,"undefined"!=typeof g_docnum&&verbose_log("["+g_docnum+"] form="+LP_getname_or_idx(a,d,LP_GETNAME_FAVOR_ID_OVER_NAME)+" field="+LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME)+" setting up generate click listener on icon")));return c}
function check_nevers(a,b,c){b={show_for_formfill:!0,show_for_save:!0,show_for_autofill:!0,show_for_generate:!0,show_for_clickable_icon:!0};if(null==g_nevers)return null;if(null==c||0>=c.length)c=a.location.href;a=lpcanonizeUrl(c);c=lpcanonizeUrl(lp_gettld_url(c));for(var d=0;d<objectSize(g_nevers);d++){var e=g_nevers[d];0==e.domain&&lpcanonizeUrl(e.url)!=a||1==e.domain&&c!=lpcanonizeUrl(lp_gettld_url(e.url))||("neverformfills"==e.type?b.show_for_formfill=!1:"neveraccounts"==e.type?b.show_for_save=
!1:"neverautofills"!=e.type&&"neverautologins"!=e.type&&("nevergenerates"==e.type?b.show_for_generate=!1:"nevershowicons"==e.type&&(b.show_for_clickable_icon=!1)))}return b}function objectSize(a){var b,c=0;if(null==a||"undefined"==typeof a)return 0;if("function"!=typeof a.hasOwnProperty&&"undefined"!=typeof a.length)return a.length;for(b in a)a.hasOwnProperty(b)&&c++;return c}
function chk_form_ask_generate(a,b,c){if(null==a||null==b||1E3<b.elements.length)return!1;var d=LP_getname(b,LP_GETNAME_FAVOR_ID_OVER_NAME),e=formcacheget(a,d,"ask_generate");if(null!=e)return g_ctr_formcache_hits++,e;g_ctr_formcache_misses++;try{var f=gettldcached(a.location.href)}catch(h){return!1}var g=e=0,j=3;c&&(j=2);g_aspx_hack&&isASPpage()&&(j=7);if("tumblr.com"==f&&(tumblr_action_btn=a.getElementById("signup_forms_submit"),null!=tumblr_action_btn)){var n=tumblr_action_btn.getElementsByTagName("SPAN"),
p;for(p=0;p<n.length;p++)if(0<=n[p].className.indexOf("login_btn")&&checkIsDisplayed(a,n[p],0,f))return!1}if(!checkIsDisplayed(a,b,0,f))return verbose_log("form is not visible: cannot be signup form"),!1;n=LP_getname(b,LP_GETNAME_FAVOR_ID_OVER_NAME);if(null!=n&&(0<=n.toLowerCase().indexOf("signup")||0<=n.toLowerCase().indexOf("register"))&&-1==n.toLowerCase().indexOf("login"))return verbose_log("form "+n+" smells like a sign up form: name/classname"),formcacheset(a,d,"ask_generate",!0),!0;var l=!1;
if("undefined"!=typeof Math){for(var n=Math.floor(1E4*Math.random()),k=l=p=0,r=null,q=0;100>q&&q<b.elements.length;q++){var m=b.elements[q];"INPUT"==m.tagName&&("password"==m.type?p++:("text"==m.type||"email"==m.type)&&l++);if("INPUT"==m.tagName&&"submit"==m.type||"BUTTON"==m.tagName)if(k++,r=m,10<k&&100<b.elements.length)return!1}if(1==k&&2>=l&&0<p&&checkButtonHint(r))return verbose_log("form is not signup: prelim test failed"),!1;b=b.elements;for(q=0;100>q&&q<b.length;q++)if(m=b[q],l=!1,"FIELDSET"!=
m.tagName&&!0!=m.disabled&&("expedia.com"==f||checkIsDisplayed(a,m,0,f,n))){if("text"==m.type&&is_watermark(m.className)&&is_watermark_password(m))try{m.type="password"}catch(s){l=!0}if("BUTTON"==m.tagName&&"submit"==m.type&&null!=m.innerText&&0<=m.innerText.indexOf("Create")||"BUTTON"==m.tagName&&"submit"==m.type&&null!=m.innerText&&0<=m.innerText.indexOf("Register")||"INPUT"==m.tagName&&"submit"==m.type&&null!=m.value&&0<=m.value.indexOf("Create")||"INPUT"==m.tagName&&"submit"==m.type&&null!=m.value&&
0<=m.value.indexOf("Register")||"INPUT"==m.tagName&&"submit"==m.type&&null!=m.value&&0<=m.value.indexOf("Sign me up")||"INPUT"==m.tagName&&"image"==m.type&&null!=m.value&&"create"==m.value)j=2,verbose_log("form "+d+" has a signup button, loosening detection requirements");k=fieldIsDoublePassword(a,m);if(do_bgiconinput||!("text"==m.type&&(k===DOUBLE_PW_VISIBLE||k===DOUBLE_SECRET_PW_VISIBLE)))if(!do_bgiconinput||!("text"==m.type&&(k===DOUBLE_TEXT_VISIBLE||k===DOUBLE_SECRET_TEXT_VISIBLE))){if("password"==
m.type||l||"text"==m.type&&k===DOUBLE_TEXT_VISIBLE||"text"==m.type&&k===DOUBLE_SECRET_TEXT_VISIBLE){l=m.getAttribute("placeholder");null!=l&&0<=l.indexOf("Create your")&&(j=2);if("facebook.com"==f&&"string"==typeof m.id&&m.id.match(/^[a-z0-9]{6}_\d{1,2}_ci_password$/))continue;else if("tdbank.com"==f&&"string"==typeof m.name&&"user"==m.name){g++;continue}if(0==e&&1<p&&passwordIsFake(m)){g++;continue}e++}else if("email"==m.type||"text"==m.type||"textarea"==m.type||"tel"==m.type||"url"==m.type)"text"==
m.type&&(0==m.name.indexOf("pass")||0<=m.value.toLowerCase().indexOf(lpgs("Password").toLowerCase())||0<=m.name.toLowerCase().indexOf(lpgs("Password").toLowerCase()))?e++:lpIsVisible(m,!0)&&g++;if(4<=e||100<=g)return 4<=e&&verbose_log("form "+d+" is not a signup form, too many pw fields [PW:"+e+"/NON:"+g+"]"),100<=g&&verbose_log("form "+d+" is not a signup form, too many non-pw fields [PW:"+e+"/NON:"+g+"]"),c||formcacheset(a,d,"ask_generate",!1),!1;if(2<=e||1<=e&&g>=j)return 2<=e&&verbose_log("form "+
d+" is a signup form, has enough pw fields [PW:"+e+"/NON:"+g+"]"),1<=e&&g>=j&&verbose_log("form "+d+" is a signup form, has enough pw fields and non-pw fields [PW:"+e+"/NON:"+g+"]"),c||formcacheset(a,d,"ask_generate",!0),!0}}verbose_log("form "+d+" does not smell like signup form, not enough fields [PW:"+e+"/NON:"+g+"]");formcacheset(a,d,"ask_generate",!1);return!1}}function passwordIsFake(a){var b=/(?:Account)|(?:Member)|(?:IUO_NAME)/i,c=a.name;return b.exec(a.id)||b.exec(c)?!0:!1}
function checkButtonHint(a){var b="INPUT"==a.tagName?a.value:a.innerHTML,c=/(?:Login)|(?:Log.In)|(?:Logon)|(?:Log.on)/i;return c.exec(a.id)||c.exec(b)?!0:!1}
function chk_form_is_nonlogin_form(a,b){if(null==a||null==b)return!1;if(1E3<b.elements.length)return!0;try{var c=gettldcached(a.location.href)}catch(d){return!1}var e=LP_getname(b,LP_GETNAME_FAVOR_ID_OVER_NAME),f=formcacheget(a,e,"is_nonlogin");if(null!=f)return g_ctr_formcache_hits++,f;g_ctr_formcache_misses++;if(is_search_form(a,b))return verbose_log("form "+e+" appears to be a search form based on name/action, do not try to fill"),formcacheset(a,e,"is_nonlogin",!1),!1;if(!checkIsDisplayed(a,b,
0,c))return verbose_log("form is not visible: cannot be non-login form"),!1;for(var f=c=0,h=b.elements,g=0;g<h.length;g++){var j=h[g];if("FIELDSET"!=j.tagName&&("email"==j.type||"text"==j.type||"password"==j.type)&&!0!=j.disabled){if(100<++f)return formcacheset(a,e,"is_nonlogin",!1),!1;if(!0!=j.disabled&&lpIsVisible(j)){if(is_search_field(a,j))return verbose_log("form "+e+" appears to be a search form based on name/classname, do not try to fill"),formcacheset(a,e,"is_nonlogin",!1),!1;c++;if(3<=c)return verbose_log("form "+
e+" appears to be a non-login form"),formcacheset(a,e,"is_nonlogin",!0),!0}}}formcacheset(a,e,"is_nonlogin",!1);return!1}function formcacheset(a,b,c,d){if(null==a||null==b||null==c||0===b.length||0===c.length||null==d)return null;"undefined"==typeof a.g_form_attr_cache&&(a.g_form_attr_cache=[]);null==a.g_form_attr_cache[b]&&(a.g_form_attr_cache[b]={});a.g_form_attr_cache[b][c]=d;return!0}
function formcacheget(a,b,c){return null==a||(null==b||null==c||0===b.length||0===c.length)||"undefined"==typeof a.g_form_attr_cache?null:null!=a.g_form_attr_cache[b]&&null!=a.g_form_attr_cache[b][c]?a.g_form_attr_cache[b][c]:null}function formcachereset(a){null!=a&&(a.g_form_attr_cache=[]);return!0}
function onresize_handler(a){a="undefined"!=typeof document?document:a.target.document;var b=a.getElementsByTagName("body")[0];a.g_posbodyrect_cache=b.getBoundingClientRect();var c="undefined"!=typeof window&&window?window:a.defaultView;a.g_posbodystyle_cache="undefined"!=typeof c.getComputedStyle?c.getComputedStyle(b,null):b.currentStyle;popupfill_resize(a);return!1}
function checkIsDisplayed(a,b,c,d,e,f){if(do_bgiconinput&&!f)return!0;f=[];if(b==a.body||null==b||50<c)return!0;if(null==d)try{d=gettldcached(a.location.href)}catch(h){return!1}c="undefined"!=typeof window&&window?window:a.defaultView;for(var g=b;g&&g!=a.body;)try{var j;j="undefined"!=typeof c.getComputedStyle?c.getComputedStyle(g):g.currentStyle;if(null!=j&&"none"!=j.display&&"hidden"!=j.visibility&&(null==g.offsetHeight||""===g.offsetHeight||1<g.offsetHeight||"hidden"!=j.overflow)&&!("expedia.com"==
d&&"-1px"==j.marginTop&&1==g.offsetHeight)&&!("dropbox.com"==d&&"register-partial-container"==b.id&&50>g.offsetHeight))f[f.length]=g,g=g.parentNode;else{f[f.length]=g;for(a=0;e&&a<f.length;a++)f[a].setAttribute("vis"+e,"0");return!1}}catch(n){break}return!0}
function countInputs(a,b,c){var d=0,e=0,f=a.getElementsByTagName("INPUT");if("undefined"!=typeof Math){for(var h=Math.floor(1E4*Math.random()),g=0;g<f.length;g++){if(100<g){b||(d+=f.length-g);break}var j="password"==f[g].type;if(!b||j)if(!("checkbox"==f[g].type||"hidden"==f[g].type)&&checkIsDisplayed(a,f[g],0,null,h))j&&e++,d++}c&&(a.g_password_cnt=e);return d}}
function getAbsolutePos(a,b){g_ctr_getAbsPos++;if(null!=b){if("undefined"==typeof b.getBoundingClientRect)return null;var c=b.getBoundingClientRect(),d,e;d="undefined"==typeof c.width?c.right-c.left:c.width;e="undefined"==typeof c.height?c.bottom-c.top:c.height;var f=null;"undefined"!=typeof a.body?f=a.body:a.getElementById("main")&&(f=a.getElementById("main"));var h;"undefined"==typeof a.g_posbodyrect_cache?(h=f.getBoundingClientRect(),a.g_posbodyrect_cache=h):h=a.g_posbodyrect_cache;var g=0;if("undefined"==
typeof a.g_posbodystyle_cache){var j="undefined"!=typeof window&&window?window:a.defaultView,f="undefined"!=typeof j.getComputedStyle?j.getComputedStyle(f,null):f.currentStyle;a.g_posbodystyle_cache=f}else f=a.g_posbodystyle_cache;"relative"==f.position&&!do_bgiconinput&&(g=h.left);f="undefined"!=typeof window&&window?window:a.defaultView;"pageXOffset"in f?(h=f.pageXOffset,f=f.pageYOffset):(f=1,"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof a.querySelector&&"undefined"==typeof a.addEventListener?
f=1:h&&(f=Math.round(100*((h.right-h.left)/a.body.offsetWidth))/100),h=Math.round(a.documentElement.scrollLeft/f),f=Math.round(a.documentElement.scrollTop/f));return{left:c.left+h-g,top:c.top+f-0,width:d,height:e}}return null}
function createPopupFill(a,b){function c(a){var b=0,c;for(c in a)b++;return b}if(do_experimental_popupfill){var d,e,f,h="",g,j=0,n=0;popup_show_menu_expand_visual_cue&&(n=16);var p={};"undefined"!=typeof b.favicons&&(p=LPJSON.parse(b.favicons));h="<div id='popupcontainer'><table id='lptabpopup'>\n";if("undefined"==typeof b.sites)e=0;else for(g in d=getAutoFillArray(a,LPJSON.parse(b.sites),!0),e=c(d),d)if(d.hasOwnProperty(g)&&null!=d[g]&&null!=d[g].useusername){f=d[g].useusername;0>=f.length&&(f=d[g].name);
var l=f,h=h+("<tr id='trpopuprow"+lp_ofa(g)+"' aid='"+lp_ofa(d[g].aid)+"' sitename='"+lp_ofa(d[g].name)+"' username='"+lp_ofa(d[g].useusername)+"' class='popuprow' >\n"),h=h+("<td id='tdpopuprow"+lp_ofa(g)+"' aid='"+lp_ofa(d[g].aid)+"'>\n");do_experimental_popupfill&&"undefined"!=typeof p[d[g].aid]&&(h+="<img src='"+p[d[g].aid]+"' style='padding:2px;'/>");h+="<span id='spanpopuprow"+lp_ofa(g)+'\' class="popcell shortenstr">';h+=lp_of(f,a);h+="</span>";popup_show_menu_expand_visual_cue&&(h+=visual_cue_frag("expand",
g));popup_show_sitename_suffix&&"undefined"!=d[g].name&&0<d[g].name.length&&(h+="<p class='subtext'>"+lp_of(d[g].name,a)+"</p>");h+="</td>\n";h+="</tr>\n";l=measureText(a,lp_of(l,a),null,"font-size: 14px;font-family: Helvetica,Arial,sans-serif;font-weight:bold;");l.width+20+n>j&&(j=l.width+20+n)}h+="</table>\n</div>";h+="<div id='popupcontainerff'>";h+="<table id='lptabpopupformfills' style='display:none'>\n";if("undefined"==typeof b.formfills)f=0;else{d=LPJSON.parse(b.formfills);f=c(d);var k;for(k=
0;1>=k;k++)for(g in d)if(d.hasOwnProperty(g)&&null!=d[g]&&null!=d[g].decprofilename&&null!=d[g].profiletype&&parseInt(d[g].profiletype)===k){l="";""!=d[g].ccnum&&0==d[g].profiletype&&(l="hascc='1' ");h+="<tr id='trpopupffrow"+lp_ofa(g)+"' ffid='"+lp_ofa(d[g].ffid)+"' profilename='"+lp_ofa(d[g].decprofilename)+"' formtype='"+k+"' "+l+" class='popuprow'>\n";h+="<td id='tdpopupffrow"+lp_ofa(g)+"' ffid='"+lp_ofa(d[g].ffid)+"'>\n";do_experimental_popupfill&&"undefined"!=typeof p[d[g].ffid]&&(h+="<img src='"+
p[d[g].ffid]+"' style='padding:2px;'/>");l=lp_of(d[g].decprofilename,a);h+="<span id='spanpopupffrow"+lp_ofa(g)+'\' class="popcell shortenstr">';h+=lp_of(d[g].decprofilename,a);if(g_creditcard_profile_annotate&&1==k)var r='<span class="cc">('+lpgs("Credit Card")+")</span>",h=h+r,l=l+r;h+="</span>";popup_show_menu_expand_visual_cue&&(h+=visual_cue_frag("expandff",g));h+="</td>\n";h+="</tr>\n";l=measureText(a,l,null,"font-size: 14px;font-family: Helvetica,Arial,sans-serif;font-weight:bold;");l.width+
20+n>j&&(j=l.width+20+n)}}g_do_icon_number_hint&&(g_icon_numbers.sites=e,g_icon_numbers.formfills=f);if(do_popup_actions)0<f&&(h+="<tr class='tablerow_sep'><td><hr/></td></tr>\n");else if(0>=e&&0>=f)return null;h+="</table>\n";h+="</div>";if(do_popup_actions)h+="<table id='lptabpopupnavbar' style='"+(g_hide_navbar?"display:none;height:0px;":"")+"'></table>";else if(0>=e&&0>=f)return null;300<j&&(j=300);g_popupfill_widest=j;return h}}
function measureText(a,b,c,d,e){g_ctr_measureText++;var f=measureTextCacheGet(a,b,d);if(null!=f)return g_ctr_measureText_cachehits++,f;g_ctr_measureText_cachemisses++;var f=a.createElement("span"),h=null;if(null==d&&null==c)return h;null==e&&(e=a.body);null==e&&(e=a.getElementById("hiddenel"));e&&(e.appendChild(f),null!=d&&(f.style.cssText=d),null!=c&&(f.style.fontSize=""+c+"px"),f.style.position="absolute",f.style.left="-1000px",f.style.top="-1000px",f.innerHTML=b,h={width:f.clientWidth,height:f.clientHeight},
measureTextCacheSet(a,b,d,h),e.removeChild(f));return h}function getAutoFillArray(a,b,c){var d=[];a=punycode.URLToASCII(a.location.href);lpcanonizeUrl(a);for(var e in b)if(!b[e].genpw||c)d[e]=b[e];return d}function is_your_popup_showing(a){if(null==a)return!1;a=a.getElementsByTagName("iframe");for(var b=0;b<a.length;b++)if(("function"!=typeof a.hasOwnProperty||a.hasOwnProperty(b))&&0==a[b].id.indexOf(MAGICIFRAME))return!0;return!1}
function dosavesiteicon(a){a=a?1:0;var b=[""],c=null!=g_popupfill_parent_last?g_popupfill_parent_last.form:null;null==c&null==g_popupfill_parent_last&&(c=null!=g_popupfill_parent?g_popupfill_parent.form:null);verbose_log("["+g_docnum+"]: current input form is "+c);if(null==c)g_isfirefox?LP.lpOpenEditWindow(0,!1,!1,null,!0):(verbose_log("["+g_docnum+"]: looking for orphaned INPUT elements"),c=LP_get_form_save_orphans(b,!0),b={url:punycode.URLToASCII(document.location.href),formdata2:c},sendBG({cmd:"savethesite",
notificationdata:b,iframe:a}));else{for(var d=c.elements,e=0,f=0,h=0,g=0;g<d.length;g++)if("FIELDSET"!=d.tagName){var j=d[g].type;"password"==j?f++:"text"==j||"tel"==j||"email"==j?e++:"textarea"==j&&h++}if(1==e&&1==f&&0==h)if(g_isfirefox)LP.lpOpenEditWindow(0);else{c=LP_get_form_save(c,!1,[],!0);if(!c||0==c.length)c+=LP_get_form_save_orphans(b,!0);b={url:punycode.URLToASCII(document.location.href),formdata2:c};sendBG({cmd:"savethesite",notificationdata:b,iframe:a})}else g_isfirefox?LP.lpOpenEditWindow(0,
!1,!1,null,!0):(c=LP_get_form_save(c,!1,[],!0),c+=LP_get_form_save_orphans(b,!0),b={url:punycode.URLToASCII(document.location.href),formdata2:c},sendBG({cmd:"savethesite",notificationdata:b,iframe:a}))}}function lp_url_is_lastpass(a){if(null==a)return!1;var b="https://lastpass.com/";"undefined"!=typeof base_url&&(b=base_url);return 0==a.indexOf(b)||0==a.indexOf("https://lastpass.com/")?!0:"undefined"!=typeof g_loosebasematching?(a=lp_gettld_url(a),RegExp(a+"/$").test(base_url)):!1}
function setupIcons(a,b){if(do_experimental_popupfill){if("undefined"!=typeof g_isie&&g_isie)if(init_LPfn()&&LPfn)LPfn.ie_reset_popupfillhint(),LPfn.ie_setup_event_handlers(a);else{verbose_log("Danger, Will Robinson");return}"undefined"!=typeof g_isfirefox&&g_isfirefox?(a.g_input_cnt=countInputs(a,!1,!0),a.g_did_setupInputObserver=!1):(g_input_cnt=countInputs(a),validate_input_indexes(a));var c="undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin,d=!1;if(g_dologin_clickable||!g_dologin_clickable&&
c)d=!0;try{var e;e="undefined"!=typeof punycode?punycode.URLToASCII(a.location.href):a.location.href;if(lp_url_is_lastpass(e)||0==a.location.href.indexOf("chrome://lastpass/")||0==a.location.href.indexOf("about://")||0==a.location.href.indexOf("safari-extension://"))return!1}catch(f){return verbose_log("setupIcons() probably caught cross-domain error, abort : "+f.message),!1}if(d&&(b||checkForLoginForm(a)||checkDocumentForLoginOrphans(a)||checkForNonLoginForm(a)||checkForSignupForm(a)))c=gettldcached(a.location.href),
g_isfirefox||"undefined"!=typeof g_isie&&g_isie||sendBG({cmd:"getpopupfillsites",tld:c,url:e}),g_do_icon_number_hint&&(g_icon_number_overrides={sites:-1,formfills:-1}),("undefined"!=typeof window&&window?window:a.defaultView).setTimeout(function(){doc_create_clickable_icons(a,"",SHOULD_DO_ALWAYS,b)},50)}"function"==typeof setupInputObserver&&setupInputObserver(a)}var MAX_FORMS_TO_CHECK=20;
function checkForLoginForm(a){try{gettldcached(a.location.href)}catch(b){return!1}for(var c=a.getElementsByTagName("form"),d=!1,e=0;e<c.length&&e<MAX_FORMS_TO_CHECK;e++){d=chk_form_has_password(a,c[e],!0);if(null==d)break;if(d)return d}return!1}function checkForNonLoginForm(a){try{gettldcached(a.location.href)}catch(b){return!1}for(var c=a.getElementsByTagName("form"),d=!1,e=0;e<c.length&&e<MAX_FORMS_TO_CHECK;e++)if(d=chk_form_is_nonlogin_form(a,c[e]))return d;return!1}
function checkForSignupForm(a){for(var b=a.getElementsByTagName("form"),c=!1,d=0;d<b.length&&d<MAX_FORMS_TO_CHECK;d++)if(c=chk_form_ask_generate(a,b[d]))return c;return!1}
function chk_form_has_password(a,b,c){if(null==a||null==b||1E3<b.elements.length)return!1;var d=LP_getname(b,LP_GETNAME_FAVOR_ID_OVER_NAME),e=formcacheget(a,d,"is_login");if(null!=e)return g_ctr_formcache_hits++,e;g_ctr_formcache_misses++;try{var f=gettldcached(a.location.href)}catch(h){return!1}for(var g=!1,j=e=0,n=0,p=null,l=0;100>l&&l<b.elements.length;l++){var k=b.elements[l];"INPUT"==k.tagName&&("password"==k.type?e++:("text"==k.type||"email"==k.type)&&j++);if("INPUT"==k.tagName&&"submit"==k.type||
"BUTTON"==k.tagName)n++,p=k}if(1==n&&2>=j&&0<e&&checkButtonHint(p))return!0;n=j=0;if(!checkIsDisplayed(a,b,0,f))return verbose_log("form is not visible: cannot be login form"),!1;p=!1;b=b.elements;for(l=0;100>l&&l<b.length;l++)if(k=b[l],g=!1,"FIELDSET"!=k.tagName){if(g_aspx_hack&&(0===k.name.indexOf("ctl00$")||null!=k.form&&"ctl00"==k.form.name||0===k.name.indexOf("ctl00_"))&&!isASPpage())setASPpage(!0),verbose_log("detected ASP.NET form, relaxing login form detection");if(!0!=k.disabled){if("text"==
k.type&&is_watermark(k.className)&&is_watermark_password(k))try{k.type="password",lpdbg("onload","switching field from text to password from chk_form_has_password")}catch(r){g=!0}var q=fieldIsDoublePassword(a,k);if(!("text"==k.type&&(q===DOUBLE_PW_VISIBLE||q===DOUBLE_SECRET_PW_VISIBLE)))if("password"==k.type||g||"text"==k.type&&q===DOUBLE_TEXT_VISIBLE||"text"==k.type&&q===DOUBLE_SECRET_TEXT_VISIBLE){if(!("facebook.com"==f&&"string"==typeof k.id&&k.id.match(/^[a-z0-9]{6}_\d{1,2}_ci_password$/)))if("tdbank.com"==
f&&"string"==typeof k.name&&"user"==k.name)n++;else{if(g_fillaid&&c)return!0;if(g_aspx_hack&&isASPpage()&&do_bgiconinput)verbose_log("ASP/bgicon login");else if(!lpIsVisible(k)){p=!0;continue}if(0==j&&1<e&&passwordIsFake(k))n++;else if(k=2,g="",g_aspx_hack&&(isASPpage()&&do_bgiconinput)&&(k=4,g=" [ASP]"),++j>=k)return formcacheset(a,d,"is_login",!1),verbose_log("Password Form detection: "+d+g+" has too many password fields; do not treat as login form [PW:"+j+"/NON:"+n+"]"),null}}else if(("email"==
k.type||"text"==k.type||"textarea"==k.type||"tel"==k.type||"url"==k.type)&&lpIsVisible(k))if(n++,g_aspx_hack&&5<n||!g_aspx_hack&&2<n)return formcacheset(a,d,"is_login",!1),verbose_log("Password Form detection: "+d+" has too many non-password fields; do not treat as login form [PW:"+j+"/NON:"+n+"]"),null}}if(1==j)return verbose_log("Password Form detection: "+d+" is a login form, has only one passwd field"),formcacheset(a,d,"is_login",!0),!0;if(g_aspx_hack&&(isASPpage()&&do_bgiconinput)&&1<j)return verbose_log("Password Form detection: "+
d+" is an ASP form, treat as login form"),formcacheset(a,d,"is_login",!0),!0;p||formcacheset(a,d,"is_login",!1);return!1}
function LP_getElementByIdOrName(a,b){if(null==a||null==b||0==b.length||"undefined"==typeof a.getElementsByTagName)return null;var c=a.getElementById(b);if(null!=c||LP_name_is_inputidx(a,b)&&(c=LP_getinputidx_from_name(a,b),null!==c&&(c=LP_getElementByIdx(a,c),null!=c)))return c;c=a.getElementsByName(b);if(1==objectSize(c))return c[0];if(0==objectSize(c))return null;var d=[],e=0,f=-1;if("undefined"!=typeof Math){for(var h=Math.floor(1E4*Math.random()),g=0;g<c.length;g++)d[g]=0,"INPUT"==c[g].tagName&&
(d[g]+=20,"hidden"!=c[g].type&&(d[g]+=10)),null!=c[g].style&&"none"!=c[g].style.display&&checkIsDisplayed(a,c[g],0,null,h,!0)&&(d[g]+=5),do_bgiconinput&&inputHasLPBackground(c[g])&&(d[g]+=7),null!=c[g].style&&"hidden"!=c[g].style.visibility&&(d[g]+=3),d[g]>e&&(e=d[g],f=g);return 0<=f?c[f]:null}}
function isInputFieldPassword(a,b){if(null==a||null==b||"INPUT"!=b.tagName)return!1;try{var c=gettldcached(a.location.href)}catch(d){return!1}var e=!1;if("text"==b.type&&is_watermark(b.className)&&is_watermark_password(b))try{b.type="password"}catch(f){e=!0}if("text"==b.type&&(0==b.name.indexOf("pass")||0==b.name.toLowerCase().indexOf(lpgs("Password").toLowerCase())))return!0;g_aspx_hack&&isASPpage()&&do_bgiconinput&&"text"==b.type&&0<=b.value.toLowerCase().indexOf(lpgs("Password").toLowerCase())&&
(e=!0);return"password"==b.type||e?"facebook.com"==c&&"string"==typeof b.id&&b.id.match(/^[a-z0-9]{6}_\d{1,2}_ci_password$/)||"tdbank.com"==c&&"string"==typeof b.name&&"user"==b.name?!1:!0:!1}
function isEmptyObject(a){if("undefined"==typeof Object.keys){var b=Object,c=Object.prototype.hasOwnProperty,d=!{toString:null}.propertyIsEnumerable("toString"),e="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),f=e.length;b.keys=function(a){if("object"!==typeof a&&("function"!==typeof a||null===a))throw new TypeError("Object.keys called on non-object");var b=[],j;for(j in a)c.call(a,j)&&b.push(j);if(d)for(j=0;j<f;j++)c.call(a,e[j])&&b.push(e[j]);
return b}}return 0===Object.keys(a).length}function LP_getname(a,b){if("undefined"!=typeof a&&null!=a){if(b&&"string"==typeof a.id&&""!=a.id)return a.id;if("string"==typeof a.name&&""!=a.name)return a.name;if("string"==typeof a.id)return a.id}return""}
function LP_getWindowWidth(a){g_ctr_getWW++;if(!a)return 0;var b=a.innerWidth,c=a.document;if(!c)return 0;a=null;"undefined"!=typeof c.body?a=c.body:c.getElementById("main")&&(a=c.getElementById("main"));var d=c.getElementById("_lpinvis");null==d&&(d=c.createElement("div"),d.id.left="_lpinvis",d.style.left="0px",d.style.right="0px",d.style.top="0px",d.style.height="0px",d.style.visibility="hidden",a.appendChild(d));var c="undefined"!=typeof window&&window?window:c.defaultView,e;e="undefined"!=typeof c.getComputedStyle?
c.getComputedStyle(a):a.currentStyle;c=parseInt(e.marginLeft);e=parseInt(e.marginRight);0<d.offsetWidth&&(b=0<c||0<e?d.offsetWidth+e+c:d.offsetWidth);a.removeChild(d);return b}
function checkDocumentForLoginOrphans(a){var b=[],c=[],d=[],e=0,f;if("undefined"!=typeof Math){for(var h=Math.floor(1E4*Math.random()),g=["input"],j=0;j<g.length;j++)for(var n=a.getElementsByTagName(g[j]),p=0;p<n.length&&!(100<p);p++)if(checkIsDisplayed(a,n[p],0,null,h)){f=n[p];if(null!=f.id&&""!=f.id){var l=d[f.id];if(null==l)d[f.id]=!0;else continue}if(null!=f.name&&""!=f.name)if(l=c[f.name],null==l)c[f.name]=!0;else continue;if(lp_in_array(LP_getname(f,LP_GETNAME_FAVOR_ID_OVER_NAME),b))verbose_log("fieldname "+
b[l]+" is blacklisted, skipping");else{var k=fieldIsDoublePassword(a,f);if(null==f.form&&("password"==f.type||"text"==f.type&&k===DOUBLE_TEXT_VISIBLE||"text"==f.type&&k===DOUBLE_SECRET_TEXT_VISIBLE))e++,2<=e&&verbose_log("too many orphan password fields found")}}return 1==e?(verbose_log("orphan login & password field found"),!0):!1}}
function do_icon_mouseover(a,b){if(null==a||null==b)return!1;var c=a.getElementById(b+"_icon");if(g_use_grey_icons&&is_your_popup_showing(a))return null!=c&&(c.style.opacity="1",c.style.filter="alpha(opacity=100)"),!1;if(null!=c){var d=!0,e=a.getElementById(b);null!=e&&(e=e.getAttribute("intrinsic"),"formfills"==e?(c.src=ff_svg,c.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_ff_ico+"';"),d=!1):"offersave"==e?d=!1:"generate"==e&&g_use_grey_icons&&(c.src=pw_svg,c.setAttribute("onerror",
"this.removeAttribute('onerror'); this.src = '"+g_pw_ico+"';"),d=!1));d&&(c.src=sites_svg,c.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_sites_ico+"';"));c.style.opacity="1";c.style.filter="alpha(opacity=100)"}g_do_icon_number_hint&&(c=a.getElementById(b+"_numspan"),null!=c&&g_icon_shading&&(c.style.backgroundColor="#CCFF99"))}
function do_icon_mouseout(a,b){if(null==a||null==b)return!1;var c=a.getElementById(b+"_icon");if(g_use_grey_icons&&is_your_popup_showing(a))return null!=c&&(c.style.opacity="0.6"),!1;if(null!=c){var d=a.getElementById(b);if(null==d)return!1;d=d.getAttribute("intrinsic");if(null==d||""===d||"sites"!==d&&"formfills"!==d&&"generate"!==d&&"offersave"!==d)d="default";"default"==d||"sites"==d?(c.src=sites_svg,c.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_sites_ico+"';"),c.style.opacity=
"0.6",c.style.filter="alpha(opacity=60)"):"formfills"==d?(c.src=ff_svg,c.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_ff_ico+"';"),c.style.opacity="0.6",c.style.filter="alpha(opacity=60)"):"generate"==d&&(c.src=pw_svg,c.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_pw_ico+"';"),c.style.opacity="0.6",c.style.filter="alpha(opacity=60)")}g_do_icon_number_hint&&(c=a.getElementById(b+"_numspan"),null!=c&&(g_icon_shading?c.style.backgroundColor="#FFFFFF":
c.style.display=""))}function do_icon_number_hint(a,b,c){"undefined"!=typeof g_icon_number_overrides&&(g_icon_number_overrides.sites=null==a||"undefined"!=typeof parseInt&&0>parseInt(a)||"undefined"==typeof parseInt&&0>a?-1:a,g_icon_number_overrides.formfills=null==b||"undefined"!=typeof parseInt&&0>parseInt(b)||"undefined"==typeof parseInt&&0>b?-1:b,do_bgiconinput&&(c||(c=document),refresh_input_all_icon_bg(c)))}
function do_save_site_success_msg(a){if(g_show_save_success_msg){var b=a.createElement("div");b.id="__lpsavemsgdiv";var c=LP_getWindowWidth(window);if(!c)return!1;var c=c-parseInt("210px")-30+"px",d=lpgs("You have saved your password to your LastPass Vault.");b.innerHTML=d;b.style.cssText="position:absolute !important; visibility:visible !important; z-index:"+CLICKABLE_ICON_ZINDEX+" !important; border-style:solid !important; border-width:1px !important; border-color:#4c4c4c !important; font-size:14px; font-family: Arial,Helvetica,sans-serif; width: 210px !important; top:25px !important; left:"+
c+" !important; background-color: #e6e6e6; margin: 4px !important; border-radius: 4px; padding: 5px 5px 5px 15px !important; background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAMAAABhq6zVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMi1jMDAxIDYzLjEzOTQzOSwgMjAxMC8xMC8xMi0wODo0NTozMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpDQ0JFNTgxNzA4MjA2ODExOTJCMEZBNzdDQkU2Qjg4RiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1RTA4N0Y4OEZCQUYxMUUyOTAyNEMwRUQyN0ZDRTk1QyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1RTA4N0Y4N0ZCQUYxMUUyOTAyNEMwRUQyN0ZDRTk1QyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgRWxlbWVudHMgMTEuMCBNYWNpbnRvc2giPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyMEEzMzFENkUxMjA2ODExOTJCMEZBNzdDQkU2Qjg4RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDQ0JFNTgxNzA4MjA2ODExOTJCMEZBNzdDQkU2Qjg4RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqEZ7U4AAAAwUExURfL6+uHMzaoWLIoDFKVJJ2oEFsQaK7cCHMtfaNWrEcFJOsg2PsqnqdWGi584RAAAAIK7gZ4AAAAQdFJOU////////////////////wDgI10ZAAAAWUlEQVR42jzMUQ4AMQQEUKpoFnX/2+403exEZN4H1DHsZjQ9/kcOgsN4fVhURXVhxkRsBkxnPmCOg8xEzRyAuAOJEwVk0cIPAbbIriG5D6Zi31Fq/dOvAAMADDMDTO9yI2MAAAAASUVORK5CYII=); background-repeat:no-repeat; background-position: left top;background-attachment: scroll;";
"undefined"!=typeof a.body?a.body.appendChild(b):a.getElementById("main")&&a.getElementById("main").appendChild(b);setTimeout(function(){destroy_save_site_success_msg(a,b.id,0);return!1},1500)}return!1}
function destroy_save_site_success_msg(a,b,c){var d=a.getElementById(b);if(null!=d){if(null===c)return d.parentNode.removeChild(d),!1;c<FADE_MAXSTATES?("undefined"!=typeof d.style.opacity?d.style.opacity=(100-100/FADE_MAXSTATES*(c+1))/100:d.style.filter="alpha(opacity="+(100-20*(c+1))+")",c++,setTimeout(function(){destroy_save_site_success_msg(a,d.id,c);return!1},10)):d.parentNode.removeChild(d)}return!1}
function closepopupfills(a){if(do_experimental_popupfill){var b,c=a.getElementsByTagName("iframe"),d=[];for(b=0;b<c.length;b++)d[b]=c[b];for(b=0;b<c.length;b++){var e=d[b];if("undefined"!=typeof e.id&&null!=e.id){var f=MAGICIFRAME;0==e.id.indexOf(f)&&(g_use_grey_icons&&(f=e.id.substr(f.length),null!=LP_getElementByIdOrName(a,f)&&revert_clickable_icon(a,f)),verbose_log("deleting iframe named "+e.id),e.parentNode&&e.parentNode.removeChild(e))}}("undefined"!=typeof g_isloggedin&&g_isie||"undefined"!=
typeof g_isfirefox&&g_isfirefox)&&do_icon_number_hint(-1,-1,a);if(g_double_password_hack||g_double_secret_password_hack)if(g_double_secret_password_hack=g_double_password_hack=!1,g_input_cnt=0,g_isfirefox){for(a=LP.getBrowser().contentWindow;null!=a.top&&a.top!=a;)a=a.top;a=lpGetBrowserForDocument(a.document);LP.checkShouldRecheck(a)}else g_input_cnt=0,checkShouldRecheck();g_popupfill_parent_last=g_popupfill_parent;g_popupfill_parent=null;g_minheight_override=g_minwidth_override=g_popupfill_iframe_height_save=
g_popupfill_iframe_width_save=g_popupfill_ctr=0}}function popupfill_resize(a){do_experimental_popupfill&&(a||(a=document?document:LP.getBrowser().contentDocument),null==a&&"undefined"!=typeof g_isfirefox&&g_isfirefox?end_weasel():0<a.location.href.indexOf(".xul")||(relocate_popupfill_clickables(a),relocate_popupfill_iframes(a),!1==g_weaseled&&weasel(100),g_weaseled=!0))}var MSGDIVID="__lpsuggestmsgdiv";function do_save_suggest_msg(a,b){if(null!=b&&!do_bgiconinput)return!1}
function destroy_save_suggest_msg(){return!1}function measureTextCacheSet(a,b,c,d){if(null==a||null==b||null==c||0===b.length||0===c.length||null==d)return null;"undefined"==typeof a.g_measureText_cache&&(a.g_measureText_cache=[]);null==a.g_measureText_cache[c]&&(a.g_measureText_cache[c]={});a.g_measureText_cache[c][b]=d;return!0}
function measureTextCacheGet(a,b,c){return null==a||(null==b||null==c||0===b.length||0===c.length)||"undefined"==typeof a.g_measureText_cache?null:null!=a.g_measureText_cache[c]&&null!=a.g_measureText_cache[c][b]?a.g_measureText_cache[c][b]:null}
function chk_form_changepw(a,b){if(null==a||null==b)return!1;for(var c=lpCheckCurrentPWField(b),d=!1,e=null,f=null,h=1;2>=h;h++){var d=!1,e=f=null,g=-1;if(1==h){if(c)for(var j=0;j<b.elements.length;j++)if(b.elements[j]==c){g=j+1;break}}else g=0;if(-1!=g){for(j=g;j<b.elements.length;j++)if(g=b.elements[j],"FIELDSET"!=g.tagName)if(isInputFieldPassword(a,g)){if(d||!e||!f)if(f=e,e=g,d&&e&&f)break;d=!0}else d=!1;if(e&&f)break}}return null!=e&&null!=f&&null!=c?!0:!1}
function change_clickable_icon_to_cancel(a,b){if(null!=a&&g_use_grey_icons){var c=a.getElementById(b+"_icon");if(null!=c){if(null==a.getElementById(b))return!1;c.src=close_svg;c.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_close_ico+"';");c.style.opacity="0.6";c.style.filter="alpha(opacity=60)"}}}
function revert_clickable_icon(a,b){if(null!=a&&g_use_grey_icons)if(do_bgiconinput){var c=LP_getElementByIdOrName(a,b);if(c){var d=getIconState(a,b);set_input_icon_image(a,c,d.fillhint)}else verbose_log("could not find field named "+b)}else if(c=a.getElementById(b+"_icon"),null!=c){d=a.getElementById(b);if(null==d)return!1;d=d.getAttribute("intrinsic");if(null==d||""===d||"sites"!==d&&"formfills"!==d&&"generate"!==d)d="default";"default"==d||"sites"==d?(c.src=sites_svg,c.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+
g_sites_ico+"';"),c.style.opacity="0.6",c.style.filter="alpha(opacity=60)"):"formfills"==d?(c.src=ff_svg,c.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_ff_ico+"';"),c.style.opacity="0.6",c.style.filter="alpha(opacity=60)"):"generate"==d&&(c.src=pw_svg,c.setAttribute("onerror","this.removeAttribute('onerror'); this.src = '"+g_pw_ico+"';"),c.style.opacity="0.6",c.style.filter="alpha(opacity=60)")}}
function visual_cue_frag(a,b){var c="";if(null===a||0>=a.length)return c;popup_show_menu_expand_visual_cue&&(c="",g_visual_cue_on_hover&&(c=" style='display:none;'"),c="<span id='"+a+lp_ofa(b)+"' expander='true' class='expander' "+c+"><img id='"+a+"img"+lp_ofa(b)+"' src='arrow.png' />  </span>\n");return c}
function conditional_create_popup(a,b,c){if(null==a||null==b||!g_clickable_input)return!1;if(!("undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin))return!0;var d=b.form,e=form_get_username(a,d),f=form_get_password(a,d);null==d&&checkDocumentForLoginOrphans(a)&&(e=doc_get_orphan_username(a),f=doc_get_orphan_password(a));if(!(null==e||null==f)){var h=checkDocumentForLoginOrphans(a),h=chk_form_has_password(a,d)||h,g=chk_form_is_nonlogin_form(a,d),d=chk_form_ask_generate(a,d),j=MAGIC+LP_getname_or_idx(a,
b,LP_GETNAME_FAVOR_ID_OVER_NAME),n=a.getElementById(j);if("undefined"!=typeof e.value&&0<e.value.length&&"undefined"!=typeof f.value&&0<f.value.length&&(h||d)&&!g){if(null!=n)return g_popup_active_username=e,g_popup_active_password=f,do_bgiconinput?popuptoggle(a,null,LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME),NO_FORCE_GENERATE,c):popupfilltoggle(a,j,b,NO_FORCE_GENERATE,c),!0}else if(g||d)if(isInputFieldPassword(a,b))d&&g_aspx_hack&&isASPpage()&&!isContigPW(a,b.form,b)?null!=n&&(g_popup_active_username=
e,g_popup_active_password=f,do_bgiconinput?popuptoggle(a,null,LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS):popupfilltoggle(a,j,b,NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)):null!=n&&(g_popup_active_username=e,g_popup_active_password=f,do_bgiconinput?popuptoggle(a,null,LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME),FORCE_OFFER_GENERATE,FORCE_SHOW_NOHITS):popupfilltoggle(a,j,b,FORCE_OFFER_GENERATE,FORCE_SHOW_NOHITS));else if(looksLikeUsername(b)||looksLikeEmail(a,
b))g_popup_active_username=e,g_popup_active_password=f,do_bgiconinput?popuptoggle(a,null,LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME),NO_FORCE_GENERATE,FORCE_SHOW_NOHITS):popupfilltoggle(a,j,b,NO_FORCE_GENERATE,FORCE_SHOW_NOHITS)}return!1}
function form_get_password(a,b){if(null==a||null==b)return null;g_ctr_form_get_password_N++;var c=b.elements;if("undefined"!=typeof Math){for(var d=Math.floor(1E4*Math.random()),e=0;e<c.length;e++){var f=c[e];if("FIELDSET"!=f.tagName&&checkIsDisplayed(a,f,0,null,d)&&isInputFieldPassword(a,f))return f}return null}}
function form_get_username(a,b){if(null==a||null==b)return null;g_ctr_form_get_username_M++;var c=b.elements;if("undefined"!=typeof Math){for(var d=Math.floor(1E4*Math.random()),e=0;e<c.length;e++){var f=c[e];if("FIELDSET"!=f.tagName&&checkIsDisplayed(a,f,0,null,d)&&("text"==f.type||"email"==f.type||looksLikeUsername(f)))return f}return null}}
function doc_get_orphan_username(a){if(null==a)return null;g_ctr_orphan_get_username_P++;var b=["input"];if("undefined"!=typeof Math){for(var c=Math.floor(1E4*Math.random()),d=0;d<b.length;d++)for(var e=a.getElementsByTagName(b[d]),f=0;f<e.length;f++){if(100<f)return null;var h=e[f];if(null==h.form&&checkIsDisplayed(a,h,0,null,c)&&("text"==h.type||"email"==h.type||looksLikeUsername(h)))return h}return null}}
function doc_get_orphan_password(a){if(null==a)return null;g_ctr_orphan_get_password_Q++;var b=["input"];if("undefined"!=typeof Math){for(var c=Math.floor(1E4*Math.random()),d=0;d<b.length;d++)for(var e=a.getElementsByTagName(b[d]),f=0;f<e.length;f++){if(100<f)return null;var h=e[f];if(null==h.form&&checkIsDisplayed(a,h,0,null,c)&&isInputFieldPassword(a,h))return h}return null}}
function set_active_username_password(a,b){if(null==a||null==b)g_popup_active_password=g_popup_active_username=null;else{var c=form_get_username(a,b),d=form_get_password(a,b);null==b&&checkDocumentForLoginOrphans(a)&&(c=doc_get_orphan_username(a),d=doc_get_orphan_password(a));g_popup_active_username=c;g_popup_active_password=d}}function looksLikeEmail(a,b){return null==a||null==b||!("text"==b.type||"email"==b.type)?!1:"email"==b.type||RegExp(lpgs("ff_email_regexp"),"i").exec(b.name)?!0:!1}
function is_search_field(a,b,c){if(null==a||null==b||"INPUT"!=b.tagName)return!1;null===c&&(c=!1);var d=b.form,e=[];null!=d&&(e=d.elements);LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME);return(null!=b.className&&0<=b.className.toLowerCase().indexOf("search")||0<=b.className.toLowerCase().indexOf("srch")||0<=b.id.toLowerCase().indexOf("search")||0<=b.id.toLowerCase().indexOf("srch")||0<=b.name.toLowerCase().indexOf("search")||0<=b.name.toLowerCase().indexOf("srch"))&&0>b.name.toLowerCase().indexOf("user")&&
0>b.name.toLowerCase().indexOf("login")&&0>b.id.toLowerCase().indexOf("user")&&0>b.id.toLowerCase().indexOf("login")&&(c||5>e.length)?!0:!1}function is_date_field(a){var b=a.name,c=/(?:date)|(?:calendar)/i,b=a.name;a=a.id;return c.exec(b)||c.exec(a)?!0:!1}
function is_search_form(a,b){if(null==a||null==b||"FORM"!=b.tagName)return!1;var c=LP_getname(b,LP_GETNAME_FAVOR_ID_OVER_NAME);return null!=b.id&&0<b.id.length&&"undefined"!=typeof b.id.toLowerCase&&(0<=b.id.toLowerCase().indexOf("search")||0<=b.id.toLowerCase().indexOf("srch"))||null!=b.name&&0<b.name.length&&"undefined"!=typeof b.name.toLowerCase&&(0<=b.name.toLowerCase().indexOf("search")||0<=b.name.toLowerCase().indexOf("srch"))?(verbose_log("form "+c+" appears to be a search field based on name/id "),
!0):!1}function pickFormName(a){var b="none";if(null!=a&&(b=LP_getname(a,LP_GETNAME_FAVOR_ID_OVER_NAME),null==b||0>=b.length))b=null!=a.action&&0<=a.action.length||null!=a.className&&0<=a.className.length?"FF"+a.action+a.className:"none";return b}
function looksLikeUsername(a,b){null===b&&(b=!1);g_ctr_looksLikeUsername_R++;if(!b&&"text"!=a.type&&"email"!=a.type)return!1;var c=RegExp(lpgs("ff_username_regexp"),"i");if(c.exec(a.name))return!0;var d=a.getAttribute("placeholder");if(null!=d&&0<=d.indexOf("Login"))return!0;d=RegExp(lpgs("ff_loginform_regexp"),"i");if(a.form)for(var e=a.form.elements,f=0;f<e.length;f++)if("submit"==e[f].type&&(e[f].name&&c.exec(e[f].name)||d.exec(e[f].name)))return!0;c=/^id$|.*-id|online.*id$/;return c.exec(a.name)||
g_is_specialsite&&(c=RegExp(lpgs("ff_bankacctnum_regexp"),"i"),c.exec(a.name))?!0:!1}function formHasUsernameField(a){if(a=a.form){a=a.elements;for(var b=0;b<a.length;b++){var c=a[b];if("text"==c.type||"email"==c.type)return!0}}return!1}var DOUBLE_TEXT_VISIBLE=1,DOUBLE_PW_VISIBLE=2,DOUBLE_SECRET_TEXT_VISIBLE=3,DOUBLE_SECRET_PW_VISIBLE=4,NOT_DOUBLE_PW=0;
function fieldIsDoublePassword(a,b){if(null==a&&(a=document,!a))return!1;if(null==b||"checkbox"==b.type||"button"==b.type||"submit"==b.type||"select-one"==b.type)return NOT_DOUBLE_PW;var c=null,d=null,e=null,f=null;if("undefined"!=typeof b.previousElementSibling)c=b.previousElementSibling;else if((c=b.previousSibling)&&null!=c.nodeType&&3==c.nodeType)c=c.previousSibling;if("undefined"!=typeof b.nextElementSibling)d=b.nextElementSibling;else if((d=b.nextSibling)&&null!=d.nodeType&&3==d.nodeType)d=
d.nextSibling;c&&"INPUT"!=c.tagName&&(c=null);d&&"INPUT"!=d.tagName&&(d=null);if(c){if("undefined"!=typeof c.previousElementSibling)e=c.previousElementSibling;else if((e=c.previousSibling)&&null!=e.nodeType&&3==e.nodeType)e=e.previousSibling;e&&"INPUT"!=e.tagName&&(e=null)}if(d){if("undefined"!=typeof d.nextElementSibling)f=d.nextElementSibling;else if((f=d.nextSibling)&&null!=f.nodeType&&3==f.nodeType)f=f.nextSibling;f&&"INPUT"!=f.tagName&&(f=null)}if("undefined"!=typeof Math){var h=Math.floor(1E4*
Math.random());if("password"==b.type&&!checkIsDisplayed(a,b,-1,null,h)&&c&&"text"==c.type&&!checkIsDisplayed(a,c,-1,null,h)&&d&&"text"==d.type&&checkIsDisplayed(a,d,-1,null,h)&&f&&"text"==f.type&&checkIsDisplayed(a,f,-1,null,h)||"text"==b.type&&checkIsDisplayed(a,b,-1,null,h)&&c&&"text"==c.type&&checkIsDisplayed(a,c,-1,null,h)&&e&&"password"==e.type&&!checkIsDisplayed(a,e,-1,null,h))return verbose_log("field "+LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME)+" needs double secret password hack"),
g_double_secret_password_hack=!0,DOUBLE_SECRET_TEXT_VISIBLE;if("password"==b.type&&checkIsDisplayed(a,b,-1,null,h)&&c&&"text"==c.type&&!checkIsDisplayed(a,c,-1,null,h)||"text"==b.type&&!checkIsDisplayed(a,b,-1,null,h)&&d&&"password"==d.type&&checkIsDisplayed(a,d,-1,null,h))return verbose_log("field "+LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME)+" needs double password hack"),g_double_password_hack=!0,DOUBLE_PW_VISIBLE;var e=null!=b&&lpIsVisible(b,!0),f=null!=c&&lpIsVisible(c,!0),h=null!=d&&
lpIsVisible(d,!0),g=null!=b&&looksLikeUsername(b),j=null!=c&&looksLikeUsername(c),n=null!=d&&looksLikeUsername(d);return"password"==b.type&&!e&&c&&"text"==c.type&&f&&!j||"text"==b.type&&e&&!g&&d&&"password"==d.type&&!h||"password"==b.type&&!e&&d&&"text"==d.type&&h&&!n||"text"==b.type&&e&&!g&&c&&"password"==c.type&&!f?(verbose_log("field "+LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME)+" needs double password hack"),g_double_password_hack=!0,DOUBLE_TEXT_VISIBLE):NOT_DOUBLE_PW}}
var g_did_setupInputObserver=!1;
function setupInputObserver(a){null==a&&(a=document);var b;if(b=do_experimental_popupfill)b="undefined"!=typeof g_isfirefox&&g_isfirefox?a?a.g_did_setupInputObserver:null:g_did_setupInputObserver,b=!b;if(b){b="undefined"!=typeof window&&window?window:a.defaultView;var c=null;if("undefined"!=typeof WebKitMutationObserver)c=new WebKitMutationObserver(function(a){mutationObserverCallBack(a)});else if("undefined"==typeof MutationObserver)if("undefined"!=typeof b.MutationObserver)c=new b.MutationObserver(function(a){mutationObserverCallBack(a)});
else return;null!=c&&(c.observe(a,{childList:!0,subtree:!0}),"undefined"!=typeof g_isfirefox&&g_isfirefox?a&&(a.g_did_setupInputObserver=!0):g_did_setupInputObserver=!0)}}
function mutationObserverCallBack(a){g_ctr_mutation_observer++;var b=!1;a.forEach(function(a){g_isfirefox&&LP.getBrowser();var c;if(!1==b)for(c=0;c<a.addedNodes.length;c++)if("INPUT"==a.addedNodes[c].tagName){b=!0;break}if(!1==b)for(c=0;c<a.removedNodes.length;c++)if("INPUT"==a.removedNodes[c].tagName){b=!0;break}});a=(new Date).getTime();if(b){if(g_isfirefox){for(var c=LP.getBrowser().contentWindow;null!=c.top&&c.top!=c;)c=c.top;c=lpGetBrowserForDocument(c.document);LP.checkShouldRecheck(c)}else checkShouldRecheck();
g_last_recheck=a}}
function enableScrollOnIframe(a,b){null==b&&(b=document?document:LP.getBrowser().contentDocument);if(null==b)return null;verbose_log("enabling Scroll on Iframe for "+b.location.href);var c=b.getElementsByTagName("IFRAME"),d,e=null;if(null!=c&&0<c.length)for(d=0;d<c.length;d++){var e=c[d],f=a.replace(/^(https:|http:)/,"");verbose_log("checking iframe src="+e.src+" passed href="+a);if(e.src==a||0<e.src.indexOf(a)||0<e.src.indexOf(f))"undefined"!=typeof g_isie&&g_isie?(e.setAttribute("scrolling","auto"),
e.style.overflow="visible",e.style.maxHeight="none"):(e.setAttribute("scrolling","auto"),e.style.overflow="auto"),verbose_log("enabling scroll on iframe to "+a)}}function enableScrollWithinIframe(a,b){null==a&&(a=document);null==b&&(b=window);is_your_popup_showing(a)&&b.self!=b.top&&(verbose_log("enabling scroll on body of iframe"),g_isfirefox?a.body.style.overflow="auto":g_isie?(a.body.style.overflow="visible",a.body.setAttribute("scroll","auto")):a.body.style.overflow="auto")}
function LP_getIframeBySrc(a,b){null==a&&(a=document);var c=a.getElementsByTagName("IFRAME"),d;for(d=0;d<c.length;d++)if(c[d].src==b)return c[d];return null}function destroy_clickables(a){do_experimental_popupfill&&(a||(a=document),null!=a&&(end_weasel(a),closepopupfills(a),closeclickableicons(a),g_save_suggest_msg&&setTimeout(function(){destroy_save_suggest_msg(a,MSGDIVID,null);return!1},0),g_isie&&remove_LPfn()))}
function closeclickableicons(a){if(do_experimental_popupfill&&(a||(a=document),null!=a)){"undefined"!=typeof g_isfirefox&&g_isfirefox&&verbose_log("closeclickableicons called on "+a.location.href);var b;"undefined"!=typeof g_isfirefox&&g_isfirefox?(null==a.g_popup_divs&&a.g_popup_divs=={},b=a.g_popup_divs):b=g_popup_divs;for(var c in b)if(b.hasOwnProperty(c)){var d=a.getElementById(b[c]);if(null!=d){if(g_do_icon_number_hint){var e=a.getElementById(d.id+"_numspan");null!=e&&e.parentNode.removeChild(e)}d.parentNode.removeChild(d)}}"undefined"!=
typeof g_isfirefox&&g_isfirefox?a.g_popup_divs={}:g_popup_divs={}}}function sort_popupfill_bylasttouch(a,b){return(null==b||null==b.last_touch||0==b.last_touch?1073741824:b.last_touch)-(null==a||null==a.last_touch||0==a.last_touch?1073741824:a.last_touch)}
function ContigPWHack(a,b,c){null===a&&(a=document);if(null===a||"undefined"==typeof a.getElementsByTagName)return!1;var d=lpCountInputFields(b);if("undefined"!=typeof Math){b=Math.floor(1E4*Math.random());if((3==d.passwordvisible||4==d.passwordvisible)&&!0===d.passwordsContiguous)for(var e=a.getElementsByTagName("input"),d=0;d<e.length&&!(100<d);d++)if(e[d]==c){if("undefined"!=typeof e[d+1]&&"password"==e[d+1].type&&"undefined"!=typeof e[d+2]&&"password"==e[d+2].type&&checkIsDisplayed(a,e[d],-1,
null,b)&&checkIsDisplayed(a,e[d+1],-1,null,b)&&checkIsDisplayed(a,e[d+2],-1,null,b))return!0;break}return!1}}
function isContigPW(a,b,c){null==b&&(b=a);var d=b.getElementsByTagName("input");if("undefined"!=typeof Math){var e=Math.floor(1E4*Math.random());for(b=0;b<d.length;b++)if(d[b]==c&&"password"==d[b].type){if("undefined"!=typeof d[b+1]&&"password"==d[b+1].type&&checkIsDisplayed(a,d[b],-1,null,e)&&checkIsDisplayed(a,d[b+1],-1,null,e)||"undefined"!=typeof d[b-1]&&"password"==d[b-1].type&&checkIsDisplayed(a,d[b],-1,null,e)&&checkIsDisplayed(a,d[b-1],-1,null,e))return!0;break}return!1}}
function get_prev_field(a,b){if("undefined"!=typeof b.previousElementSibling)prev_field=b.previousElementSibling;else if((prev_field=b.previousSibling)&&null!=prev_field.nodeType&&prev_field.nodeType==TEXT_NODE)prev_field=prev_field.previousSibling}function get_next_field(a,b){if("undefined"!=typeof b.nextElementSibling)next_field=b.nextElementSibling;else if((next_field=b.nextSibling)&&null!=next_field.nodeType&&next_field.nodeType==TEXT_NODE)next_field=next_field.nextSibling}
function is_modifier_key(a){if("undefined"!=typeof KeyEvent){if(a==KeyEvent.DOM_VK_ALT||a==KeyEvent.DOM_VK_SHIFT||a==KeyEvent.DOM_VK_CONTROL||a==KeyEvent.DOM_VK_WIN||a==KeyEvent.DOM_VK_META)return!0}else if(16==a||17==a||18==a||91==a||92==a||224==a)return!0;return!1}var tldcache=[];
function gettldcached(a){try{if("undefined"!=typeof tldcache[a])return tldcache[a];var b="undefined"!=typeof punycode?lp_gettld_url(punycode.URLToASCII(a)):lp_gettld_url(a);return tldcache[a]=b}catch(c){return lp_gettld_url(a)}}
function setup_input_icon(a,b,c,d){if(null==b)verbose_log("setup_input_icon: ERROR passed null field");else{var e=null,e="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?LP.lpGetCurrentWindow().getBrowser().contentDocument:g_isfirefox?top.document:document;if(!do_experimental_popupfill)return!1;a||(a=e);var f=LP_getname_or_idx(a,b,LP_GETNAME_FAVOR_ID_OVER_NAME);verbose_log("entered setup_input_icon for "+f);if(null==b||!e||!a)return!1;if("generate"==c||shouldOfferGenerate(a,b))c="generate";
saveIconState(f,{fillhint:c,fillhintnumber:d[c],inframe:a!=e,idorname:f},b);set_input_icon_image(a,b,c,!1);set_bg_highlight_effect_handlers(a,b,c);addEventHandler(a,"keydown",function(a){keypress_handler(a)},!1);!g_isfirefox&&"true"!==b.getAttribute("keyev")&&(b.setAttribute("keyev","true"),addEventHandler(b,"keydown",function(a){field_keypress_handler(a,b,c)},!1));return!1}}function refresh_input_icon_bg(a,b,c){b&&set_input_icon_image(a,b,c,!1)}
function refresh_input_all_icon_bg(a){null==a&&(a=document);if(null!=a){try{if(0<a.location.href.indexOf(".xul"))return;verbose_log("refreshing input icons on "+a.location.href)}catch(b){return}var c=getAllIconStates(),d;for(d=0;d<c.length;d++){var e=c[d].fillhint,f=LP_getElementByIdOrName(a,c[d].idorname);f&&refresh_input_icon_bg(a,f,e)}}}
function saveIconState(a,b,c){try{a=null;a="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?LP.lpGetCurrentWindow().getBrowser().contentDocument:g_isfirefox?top.document:document;"undefined"==typeof a.lpiconarr&&(a.lpiconarr=[]);var d;for(d=0;d<a.lpiconarr.length;d++){var e=a.lpiconarr[d];if(e.idorname==b.idorname&&e.inframe==b.inframe){if(!checkIsDisplayed(c.ownerDocument,c,null,null,null,!0))return;a.lpiconarr.splice(d,1)}}a.lpiconarr.push(b)}catch(f){verbose_log("save error "+f.message)}}
function getIconState(a,b){var c=null,c="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?LP.lpGetCurrentWindow().getBrowser().contentDocument:g_isfirefox?top.document:document,d={};if("undefined"!=typeof c.lpiconarr){var e;for(e=0;e<c.lpiconarr.length;e++){var f=c.lpiconarr[e];f.idorname==b&&f.inframe==(a!=c)&&(d=f)}}return d}
function deleteIconState(a,b){var c=null,c="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?LP.lpGetCurrentWindow().getBrowser().contentDocument:g_isfirefox?top.document:document;verbose_log("delete icon state from "+c.location.href+" for "+b);if("undefined"!=typeof c.lpiconarr){var d;for(d=0;d<c.lpiconarr.length;d++){var e=c.lpiconarr[d];e.idorname==b&&e.inframe==(a!=c)&&c.lpiconarr.splice(d,1)}}}
function getAllIconStates(){var a=null,a="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?LP.lpGetCurrentWindow().getBrowser().contentDocument:g_isfirefox?top.document:document;verbose_log("getting all icon states for "+a.location.href);return"undefined"!=typeof a.lpiconarr?a.lpiconarr:[]}
function set_input_icon_image(a,b,c,d){var e,f=[];f[0]=g_sites_light_ico;f[1]=g_pw_light_ico;f[3]=g_close_light_ico;f[-1]="";f[2]=g_ff_light_ico;f[16]=g_sites_ico;f[17]=g_pw_ico;f[19]=g_close_ico;f[-17]="";f[18]=g_ff_ico;if(null==b)return!1;"undefined"==typeof c||null==c?e=0:"formfills"==c?e=2:"sites"==c?e=0:"generate"==c?e=1:"cancel"==c&&(e=3);d&&(e|=16);c=b.style.width.replace(/px/,"");if(""==c)try{var h=b.ownerDocument.defaultView.getComputedStyle(b,"");c=h.width.replace(/px/,"")}catch(g){}if(!(0<
c&&30>c)){c=b.style.backgroundImage;if(""==c)try{h=b.ownerDocument.defaultView.getComputedStyle(b,""),c=h.backgroundImage}catch(j){"undefined"!=typeof b.currentStyle&&(c=b.currentStyle.backgroundImage)}"none"==c&&(c="");0<=e&&("undefined"==typeof f[e]&&verbose_log("no icon defined for iconval="+e),a=("undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin)?0==e||16==e?getnumbericon(a,b,d):f[e]:f[e],c!="url("+a+")"&&(b.style.backgroundImage="url("+a+")",a=b.ownerDocument.location.href,b.style.paddingRight=
0<=a.indexOf("live.com")?"18px":0<=a.indexOf("twitter.com")?"16px":"0px","no-repeat"!=b.style.backgroundRepeat&&(b.style.backgroundRepeat="no-repeat"),"scroll"!=b.style.backgroundAttachment&&(b.style.backgroundAttachment="scroll"),"center right"!=b.style.backgroundPosition&&(b.style.backgroundPosition="center right")));return!0}}
function set_bg_highlight_effect_handlers(a,b,c){addEventHandler(b,"mouseover",function(d){bg_highlight_effect_mouseover(d,a,b,c)});addEventHandler(b,"mouseout",function(d){bg_highlight_effect_mouseout(d,a,b,c)});addEventHandler(b,"mousemove",function(d){bg_highlight_effect_mousemove(d,a,b,c)});"sites"==c&&b.setAttribute("autocomplete","off")}
function bg_highlight_effect_mousemove(a,b,c){null==a&&(a=window.event);a=LP_getMousePos(a);if(!(0>=a.x&&0>=a.y))if(b=getAbsolutePos(b,c),0>=b.width&&0>=b.height)verbose_log("skipping field "+obj.idorname+" : no valid position");else{var d=b.left+b.width-20;d<b.left&&(d=b.left);c.style.cursor=d<a.x&&b.left+b.width>a.x&&b.top<a.y&&b.top+b.height>a.y?"pointer":"auto"}}
function bg_highlight_effect_mouseover(a,b,c,d){null==a&&(a=window.event);if(!(is_your_popup_showing(b)&&b.g_popupfill_parent==c)&&getEventTarget(a)==c){a=d;if(!a&&(d=getIconState(b,LP_getname_or_idx(b,c,LP_GETNAME_FAVOR_ID_OVER_NAME)))&&d.hint)a=d.hint;a&&set_input_icon_image(b,c,a,!0)}}
function bg_highlight_effect_mouseout(a,b,c,d){if(!(is_your_popup_showing(b)&&b.g_popupfill_parent==c)){a=d;if(!a&&(d=getIconState(b,LP_getname_or_idx(b,c,LP_GETNAME_FAVOR_ID_OVER_NAME)))&&d.hint)a=d.hint;a&&set_input_icon_image(b,c,a,!1)}}
function icon_click_handler(a){var b=null,b="undefined"!=typeof LP&&"function"==typeof LP.lpGetCurrentWindow?LP.lpGetCurrentWindow().getBrowser().contentDocument:g_isfirefox?top.document:document;if(!("INPUT"!=getEventTarget(a).tagName&&"input"!=getEventTarget(a).tagName)){var c=!1,d=null;verbose_log("enterered icon_click_handler");var e=getEventTarget(a).ownerDocument;e!=b&&(d=e,verbose_log("click inside iframe "+d.location.href));var f=getEventTarget(a),h=LP_getname_or_idx(e,f,LP_GETNAME_FAVOR_ID_OVER_NAME),
g=LP_getMousePos(a);if(!(0>=g.x&&0>=g.y)){var j=getAllIconStates(),n,p;for(n=0;n<j.length;n++){var l="";p=null;e=j[n];if(e.inframe){if(d&&(p=LP_getElementByIdOrName(d,e.idorname)))l=e.idorname}else if(""!=h&&h==e.idorname)p=f;else if(p=LP_getElementByIdOrName(b,e.idorname))l=e.idorname;if(d){if(p&&checkIsDisplayed(d,p,0)){var k=getAbsolutePos(d,p);verbose_log("comparing click against field "+l+" (inside iframe) upper left="+k.left+","+k.top);verbose_log("comparing click against field "+l+" (inside iframe) lower right ="+
parseInt(k.left+k.width)+","+parseInt(k.top+k.height));if(0>=k.width&&0>=k.height)verbose_log("skipping field "+e.idorname+" : no valid position");else if(l=k.left+k.width-20,l<k.left&&(l=k.left),l<g.x&&k.left+k.width>g.x&&k.top<g.y&&k.top+k.height>g.y){c=!1;f=!0;g=h=!1;verbose_log("icon_click_handler calling popuptoggle() [iframe]");c="generate"==e.fillhint?!0:shouldOfferGenerate(d,p);"formfills"==e.fillhint&&(g=!0);b.g_popupfill_parent=p;popuptoggle(b,d,e.idorname,c,f,h,g,e.fillhint,e.fillhintnumber);
c=!0;stopEventPropagation(a);break}}}else if(p&&checkIsDisplayed(b,p,0))if(k=getAbsolutePos(b,p),verbose_log("comparing click against field "+l+" upper left="+k.left+","+k.top),verbose_log("comparing click against field "+l+" lower right ="+(k.left+k.width)+","+(k.top+k.height)),0>=k.width&&0>=k.height)verbose_log("skipping field "+e.idorname+" : no valid position");else{if(l=k.left+k.width-20,l<k.left&&(l=k.left),l<g.x&&k.left+k.width>g.x&&k.top<g.y&&k.top+k.height>g.y){f=!0;g=h=!1;verbose_log("icon_click_handler calling popuptoggle()");
c="generate"==e.fillhint?!0:shouldOfferGenerate(b,p);"formfills"==e.fillhint&&(g=!0);b.g_popupfill_parent=p;popuptoggle(b,d,e.idorname,c,f,h,g,e.fillhint,e.fillhintnumber,p);c=!0;stopEventPropagation(a);break}}else verbose_log("skipping field "+e.idorname+" : not found/visible")}return c}}}
function LP_getMousePos(a){var b;a=a||window.event;b=getEventTarget(a).ownerDocument;verbose_log("LP_getMousePos doc="+b.location.href);if(0<b.location.href.indexOf(".xul"))return{x:0,y:0};var c=b.documentElement,d=c.scrollLeft||b.body.scrollLeft,c=c.scrollLeft||b.body.scrollLeft;g_isie&&(d=b.body,"undefined"==typeof b.g_posbodyrect_cache?(d=d.getBoundingClientRect(),b.g_posbodyrect_cache=d):d=b.g_posbodyrect_cache,c="undefined"!=typeof window&&window?window:b.defaultView,"pageXOffset"in c?(d=c.pageXOffset,
b=c.pageYOffset):(c=1,"undefined"!=typeof g_isie&&g_isie&&"undefined"!=typeof b.querySelector&&"undefined"==typeof b.addEventListener?c=1:d&&(c=Math.round(100*((d.right-d.left)/b.body.offsetWidth))/100),d=Math.round(b.documentElement.scrollLeft/c),b=Math.round(b.documentElement.scrollTop/c)),c=b);b=a.pageX||a.clientX+d;a=a.pageY||a.clientY+c;b=parseInt(b);a=parseInt(a);verbose_log("LP_getMousePos x,y="+b+","+a);return{x:b,y:a}}
function popuptoggle(a,b,c,d,e,f,h,g,j,n){verbose_log("entered popuptoggle");parent_field=n?n:b?LP_getElementByIdOrName(b,c):LP_getElementByIdOrName(a,c);g="sites";d?g="generate":f?g="save":h&&(g="formfills");if(is_your_popup_showing(a))verbose_log("iframe exists, close it"),closepopupfills(a),g_isfirefox?b?(b.g_popupfill_parent_last=b.g_popupfill_parent,b.g_popupfill_parent=null):(a.g_popupfill_parent_last=a.g_popupfill_parent,a.g_popupfill_parent=null):(g_popupfill_parent_last=g_popupfill_parent,
g_popupfill_parent=null);else if(verbose_log("iframe does not exist, now create it"),h="undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin){g_isfirefox?b?b.g_popupfill_parent=parent_field:a.g_popupfill_parent=parent_field:g_popupfill_parent=parent_field;f=f?!0:!1;g_isie?(init_LPfn(),h=pickFormName(parent_field.form),j=LPfn?LPfn.ie_getpopupfillhint(h):null,null==j&&(j="sites"),d={rowtype:j,offergenerate:d?"1":"0",formid:h,fieldid:LP_getname_or_idx(a,parent_field,LP_GETNAME_FAVOR_ID_OVER_NAME),
fieldtype:parent_field.type,opentosave:f,start_type:g},d=LPJSON.stringify(d),document.documentElement.setAttribute("lpifmsg",d)):g_isfirefox||(h=pickFormName(parent_field.form),d=d?1:0,sendBG({cmd:"setpopupfilllastactive",active:h,activefieldid:LP_getname_or_idx(document,parent_field,LP_GETNAME_FAVOR_ID_OVER_NAME),ask_generate:d,opentosave:f,activefieldtype:parent_field.type,start_type:g}));!g_isfirefox&&!g_isie&&sendBG({cmd:"popupregister",docnum:g_docnum});f=("function"==typeof ff_calculate_iframe_pos?
ff_calculate_iframe_pos:calculate_iframe_pos)(a,parent_field,"300px");d=f.posx;f=f.posy;if(g_isfirefox)ff_popupfill_create_iframe(a,d,f,c,null,null,parent_field,g);else{h=chk_form_is_nonlogin_form(document,parent_field.form);g=checkDocumentForLoginOrphans(document);j=chk_form_has_password(document,parent_field.form)||g;g=g_popupfill_rows;h&&!j&&(g=g_popupfill_rows_FF);j=g_popupfill_widest+40;120>j&&(j=120);j<g_popupfill_parent.offsetWidth&&(j=g_popupfill_parent.offsetWidth,j+=2*Math.abs(POPUP_FIELD_OFFSET));
if(1==g&&!create_onerow_iframe){h=null;g_fillaid&&(h=g_fillaid);isEmptyObject(g_autofillsites)||(h=g_autofillsites[0].aid);if(null!=h){sendBG({cmd:"autofillaid",aid:h});verbose_log("filling only, not creating 1 row iframe");return}verbose_log("tried to fill form with invalid acct")}if(0==g&&!do_popup_actions||0==g&&e==NO_FORCE_NOHITS)verbose_log("not creating empty iframe");else if(h="undefined"!=typeof g_isloggedin?g_isloggedin:lploggedin,g_dologin_clickable&&!h&&(!g_isie||g_isie&&e==FORCE_SHOW_NOHITS_NOLOGIN)){verbose_log("login state: checking whether to issue Chrome login prompt");
if(e==FORCE_SHOW_NOHITS_NOLOGIN)return;g_isie||sendBG({cmd:"dologinaction"});return}popupfill_create_iframe(a,d,f,c,g,j,g_minheight_override);g_popupfill_iframe_width_save=j}g_isfirefox?b?relocate_popupfill_iframes(b):relocate_popupfill_iframes(a):relocate_popupfill_iframes(a);b?set_input_icon_image(b,parent_field,"cancel",!0):set_input_icon_image(a,parent_field,"cancel",!0)}else"undefined"!=typeof LP&&"undefined"!=typeof LP.lpOpenLogin?LP.lpOpenLogin():g_isie||sendBG({cmd:"dologinaction"})}
function isFirstFieldNonLoginSubForm(a,b){return null==a||null==b||"INPUT"!=b.tagName||"password"==b.type||"hidden"==b.type?!1:"text"==b.type&&(regexp=RegExp(lpgs("ff_firstname_regexp"),"i"),regexp.exec(b.name)||regexp.exec(b.id))?!0:!1}function isASPpage(){var a=!1;if(g_isfirefox){var b;(b=LP.lpGetCurrentWindow().getBrowser().contentDocument)?a=b.g_found_aspx:verbose_log("unable to get g_found_aspx in isASPpage() for "+b?b.location.href:"null")}else a=g_found_aspx;a||(a=!1);return a}
function setASPpage(a){null==a&&(a=!0);if(g_isfirefox){var b;(b=LP.lpGetCurrentWindow().getBrowser().contentDocument)?ret=b.g_found_aspx=a:verbose_log("unable to set g_found_aspx in isASPpage() for "+b?b.location.href:"null")}else g_found_aspx=a,ret=!0;ret||(ret=!1);return ret}function LP_getname_or_idx(a,b,c){if(!a&&(a=document,!a))return"";c=LP_getname(b,c);if(""===c||null===c)if("INPUT"==b.tagName||"input"==b.tagName)c=LP_inputidx_to_name(a,LP_getinputidx(a,b));return c}
function LP_getinputidx(a,b){if(!a&&(a=document,!a))return"";for(var c=a.getElementsByTagName("INPUT"),d=0,d=0;d<c.length;d++)if(c[d]==b)return d;return""}var MAGICINPUTIDX="input_idx_";function LP_inputidx_to_name(a,b){if(null!==b&&is_valid_input_indexes(a))return MAGICINPUTIDX+b}function LP_name_is_inputidx(a,b){return 0==b.indexOf(MAGICINPUTIDX)&&b.length>MAGICINPUTIDX.length?!0:!1}
function LP_getinputidx_from_name(a,b){return is_valid_input_indexes(a)&&0==b.indexOf(MAGICINPUTIDX)?b.substr(MAGICINPUTIDX.length):null}function LP_getElementByIdx(a,b){var c=null;is_valid_input_indexes(a)&&(c=a.getElementsByTagName("INPUT")[b]);return c}function invalidate_input_indexes(a){if(!a&&(a=document,!a))return;a.g_need_to_recompute_input_index=!0}function validate_input_indexes(a){if(!a&&(a=document,!a))return;a.g_need_to_recompute_input_index=!1}
function is_valid_input_indexes(){return!0}function inputHasLPBackground(a){if(null==a)return!1;var b=null;try{b=a.ownerDocument.defaultView.getComputedStyle(a,"")}catch(c){"undefined"!=typeof a.currentStyle&&(b=a.currentStyle)}return b&&("INPUT"==a.tagName||"input"==a.tagName)&&"no-repeat"==b.backgroundRepeat&&"scroll"==b.backgroundAttachment&&""!=b.backgroundImage?!0:!1};
