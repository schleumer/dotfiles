function drawSliderByVal(a){a.getElementsByTagName("img")[0].style.left=(a.scrollWidth-30)*((a.val-a.min)/(a.max-a.min))+"px"}function setSliderByClientX(a,b){a.val=(a.max-a.min)*((b-a.offsetLeft-15)/(a.scrollWidth-30))+a.min;a.val>a.max&&(a.val=a.max);a.val<a.min&&(a.val=a.min);drawSliderByVal(a);a.onchange(a.val,a.num)}function sliderClick(a){var b=sliderFromEvent(a);b&&setSliderByClientX(b,a.clientX)}
function sliderMouseMove(a){var b=sliderFromEvent(a);b&&!(0>activeSlider)&&(setSliderByClientX(b,a.clientX),stopEvent(a))}function sliderFromEvent(a){!a&&window.event&&(a=window.event);if(!a)return!1;var b;a.target&&(b=a.target);a.srcElement&&(b=a.srcElement);if(!b.id||!b.id.match(/slider\d+/))b=b.parentNode;return!b||!b.id||!b.id.match(/slider\d+/)?!1:b}
function attachSliderEvents(){for(var a=document.getElementsByTagName("div"),b,c=0;c<a.length;c++)if(b=a[c].id.match(/\bslider(\d+)\b/))b=parseInt(b[1]),a[c].min=slider[b].min,a[c].max=slider[b].max,a[c].val=slider[b].val,a[c].onchange=slider[b].onchange,a[c].num=b,drawSliderByVal(a[c]),a[c].onchange(a[c].val,b),addAnEvent(a[c],"mousedown",function(a){g_slider_changed_length=!0;sliderClick(a);var b=sliderFromEvent(a);b&&(activeSlider=b.num,stopEvent(a))}),addAnEvent(a[c],"mouseup",function(a){activeSlider=
-1;stopEvent(a)})}function stopEvent(a){a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a.returnValue=!1,a.cancelBubble=!0)}function addAnEvent(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener?a.addEventListener(b,c,!0):a["on"+b]=c}var activeSlider=-1;
